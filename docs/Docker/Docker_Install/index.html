<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Docker/Docker_Install">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Docker_Install | 知行合一</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" name="twitter:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" property="og:url" content="https://iewiewiew.github.io/docs/Docker/Docker_Install"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Docker_Install | 知行合一"><meta data-rh="true" name="description" content="[TOC]"><meta data-rh="true" property="og:description" content="[TOC]"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://iewiewiew.github.io/docs/Docker/Docker_Install"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/Docker/Docker_Install" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/Docker/Docker_Install" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.183e182e.css">
<link rel="preload" href="/assets/js/runtime~main.5e310ca4.js" as="script">
<link rel="preload" href="/assets/js/main.cb284e89.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">wei</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">目录</a><a href="https://www.processon.com/mindmap/6138112f1e085306ef9fe608" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">技能图谱<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/iewiewiew" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">README</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/AI/">AI</a><button aria-label="打开/收起侧边栏菜单「AI」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Ansible/">Ansible</a><button aria-label="打开/收起侧边栏菜单「Ansible」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/CSBasic/Network">CSBasic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Chaos/ChaosBlade">Chaos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Database/ClickHouse/">Database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/DevOps/">DevOps</a><button aria-label="打开/收起侧边栏菜单「DevOps」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/Docker/">Docker</a><button aria-label="打开/收起侧边栏菜单「Docker」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Docker/Docker_Install">Docker_Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Docker/Orbstack">Orbstack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Docker/Podman">Podman</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Git/">Git</a><button aria-label="打开/收起侧边栏菜单「Git」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/JMeter/">JMeter</a><button aria-label="打开/收起侧边栏菜单「JMeter」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Jenkins/">Jenkins</a><button aria-label="打开/收起侧边栏菜单「Jenkins」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Kubernetes/">Kubernetes</a><button aria-label="打开/收起侧边栏菜单「Kubernetes」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Linux/">Linux</a><button aria-label="打开/收起侧边栏菜单「Linux」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Middleware/Apollo/">Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Mixinfo/BigData/大数据">Mixinfo</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/SoftwareTest/AppTest">SoftwareTest</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Docker/"><span itemprop="name">Docker</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker_Install</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker_Install</h1></header><p>[TOC]</p><h1 align="center">Docker_Install</h1><blockquote><p>By：weimenghua<br>
<!-- -->Date：2022.07.24<br>
<!-- -->Description：Docker 安装软件</p></blockquote><p><strong>参考资料</strong><br>
<a href="https://www.yuque.com/coolops" target="_blank" rel="noopener noreferrer">乔克叔叔 DevOps</a></p><p><strong>公共命令</strong></p><p>注意：端口映射和目录映射左边是服务器</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">搜索镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker search &lt;镜像名称&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker search jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull &lt;所属组织？&gt;/&lt;镜像名称&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull jenkins/jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it &lt;容器名称&gt; /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it mysql /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在容器执行命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it &lt;容器名称&gt; &lt;执行命令&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it mysql cat /etc/my.cnf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f &lt;容器名称&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f &lt;容器名称&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将容器中的目录复制到宿主机中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp &lt;容器名称&gt;:&lt;文件目录&gt; &lt;文件目录&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp mysql:/var/lib/mysql /var/lib/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将容器中的文件复制到宿主机中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp &lt;容器名称&gt;:&lt;文件名称&gt; &lt;文件名称&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp mysql:/etc/my.cnf /etc/my.cnf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>镜像地址</p><ul><li>dockerpull.com</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-数据库">1. 数据库<a href="#1-数据库" class="hash-link" aria-label="1. 数据库的直接链接" title="1. 数据库的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-mysql">Docker 安装 MySQL<a href="#docker-安装-mysql" class="hash-link" aria-label="Docker 安装 MySQL的直接链接" title="Docker 安装 MySQL的直接链接">​</a></h3><p><a href="https://github.com/bitnami/bitnami-docker-mysql" target="_blank" rel="noopener noreferrer">MySQL 安装文档</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name mysql \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 3306:3306 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /var/lib/mysql:/var/lib/mysql \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /etc/my.conf:/etc/my.conf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e MYSQL_ROOT_PASSWORD=root \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dockerpull.com/mysql:8.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">目录挂载（待定）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it mysql bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第一次 mysql -u root -p 输入 root 密码：root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use mysql;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alter user &#x27;root&#x27;@&#x27;%&#x27; identified with mysql_native_password by &#x27;root&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; WITH GRANT OPTION; -- MySQL8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;root&#x27; WITH GRANT OPTION; -- MySQL5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush privileges;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select host,user,plugin,authentication_string from mysql.user;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改 root 用户的 root 密码为 123456</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush privileges;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">解决时差问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp /usr/share/zoneinfo/Asia/Shanghai mysql:/etc/localtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker restart mysql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-redis">Docker 安装 Redis<a href="#docker-安装-redis" class="hash-link" aria-label="Docker 安装 Redis的直接链接" title="Docker 安装 Redis的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name redis \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 6379:6379 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/redis/redis.conf:/etc/redis/redis.conf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/redis/data:/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-server /etc/redis/redis.conf --appendonly yes --requirepass &quot;root&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">参数说明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-server --appendonly yes --requirepass &quot;root&quot;: 在容器执行 redis-server 启动命令，并打开 redis 持久化配置, 以及设置密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入 redis 客户端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it redis redis-cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-redisinsight">Docker 安装 redisinsight<a href="#docker-安装-redisinsight" class="hash-link" aria-label="Docker 安装 redisinsight的直接链接" title="Docker 安装 redisinsight的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name redisinsight \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /etc/localtime:/etc/localtime \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/redisinsight:/db  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8001:8001 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redislabs/redisinsight:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8001/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/redisinsight-d71372d84c5f5fbe4852e26e711266de.png" width="1492" height="746" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-postgres">Docker 安装 Postgres<a href="#docker-安装-postgres" class="hash-link" aria-label="Docker 安装 Postgres的直接链接" title="Docker 安装 Postgres的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name postgres \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 5432:5432 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/postgresql:/var/lib/postgresql/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e POSTGRES_PASSWORD=postgres \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用户名：postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">密码：postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">数据库名：postgres</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-mongodb">Docker 安装 MongoDB<a href="#docker-安装-mongodb" class="hash-link" aria-label="Docker 安装 MongoDB的直接链接" title="Docker 安装 MongoDB的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器（无密码）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name mongodb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--privileged \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 27017:27017 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/mongo:/data/db \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mongo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器（有密码）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name=mongodb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--privileged \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 27017:27017 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/mongo:/data/db \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e MONGO_INITDB_ROOT_USERNAME=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e MONGO_INITDB_ROOT_PASSWORD=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mongo --auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入数据库（MongoDB 6.0 及以上版本使用以下命令）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it mongodb mongosh admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建一个名为 root，密码为 root 的用户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.createUser({ user:&#x27;root&#x27;,pwd:&#x27;root&#x27;,roles:[ { role:&#x27;userAdminAnyDatabase&#x27;, db: &#x27;admin&#x27;},&quot;readWriteAnyDatabase&quot;]});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">尝试使用上面创建的用户信息进行连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.auth(&#x27;root&#x27;, &#x27;root&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-clickhouse">Docker 安装 ClickHouse<a href="#docker-安装-clickhouse" class="hash-link" aria-label="Docker 安装 ClickHouse的直接链接" title="Docker 安装 ClickHouse的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name ch-server \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ulimit nofile=262144:262144 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9000:9000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8123:8123 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yandex/clickhouse-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8123/play</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it ch-server /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">安装软件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apt-get install vim -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入 clickhouse-client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clickhouse-client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 clickhouse 数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show databases;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim /etc/clickhouse-server/users.xml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">采用 SHA256的方式加密，生成明码密文</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASSWORD=$(base64 &lt; /dev/urandom | head -c8); echo &quot;root&quot;; echo -n &quot;root&quot; | sha256sum | tr -d &#x27;-&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4813494d137e1631bba301d5acab6e7bb7aa74ce1185d456565ef51d737677b2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">密文写入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;password_sha256_hex&gt;4813494d137e1631bba301d5acab6e7bb7aa74ce1185d456565ef51d737677b2&lt;/password_sha256_hex&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">明文写入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;password&gt;root&lt;/password&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">客户端访问服务端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clickhouse-client -h 127.0.0.1 -d default -m -u default --password &#x27;root&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f ch-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f ch-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-hive-未实践成功">Docker 安装 Hive (未实践成功)<a href="#docker-安装-hive-未实践成功" class="hash-link" aria-label="Docker 安装 Hive (未实践成功)的直接链接" title="Docker 安装 Hive (未实践成功)的直接链接">​</a></h3><p><a href="https://github.com/big-data-europe/docker-hive" target="_blank" rel="noopener noreferrer">下载 Hive 仓库</a></p><p><a href="https://gethue.com/" target="_blank" rel="noopener noreferrer">在线体验 SQL</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/big-data-europe/docker-hive.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd docker-hive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">启动容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">指定文件路径启动容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f docker-compose-hive.yml up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">连接到 Hive 容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it docker-hive-hive-server-1 bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查找 Docker 主机的 IP 地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker inspect -f &#x27;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#x27; docker-hive-hive-server-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">实际上用主机ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jdbc:hive2://&lt;docker-host-ip&gt;:10000/default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在 Hive 容器中，运行 Hive 查询、创建表、加载数据等操作</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">进入 hive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- 创建一个示例表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE TABLE example_table (id INT, name STRING);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- 插入数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INSERT INTO example_table VALUES (1, &#x27;Alice&#x27;), (2, &#x27;Bob&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- 查询数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * FROM example_table;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- 测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create table pokes(foo INT, bar STRING);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">load data local inpath &#x27;/opt/hive/examples/files/kv1.txt&#x27; overwrite into table pokes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select * from pokes limit 10;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="http://127.0.0.1:50070/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:50070/</a></p><p><img loading="lazy" alt="Hadoop Web" src="/assets/images/hadoop_web-fefee915cfa1a012c99b04af54514eab.png" width="1512" height="734" class="img_ev3q"></p><p><a href="http://127.0.0.1:8080/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080/</a></p><p><img loading="lazy" alt="Hadoop Cluster" src="/assets/images/hadoop_cluster-a28727871a4d722c5a40c5e1f1ff09fc.png" width="1512" height="734" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-监控">2. 监控<a href="#2-监控" class="hash-link" aria-label="2. 监控的直接链接" title="2. 监控的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-grafana">Docker 安装 Grafana<a href="#docker-安装-grafana" class="hash-link" aria-label="Docker 安装 Grafana的直接链接" title="Docker 安装 Grafana的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull dockerpull.com/grafana/grafana:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name grafana \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 3000:3000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grafana/grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">从容器复制文件到宿主机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /root/grafana &amp;&amp; rm -rf *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp grafana:/etc/grafana /root/grafana/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp grafana:/var/lib/grafana /root/grafana/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp grafana:/var/log/grafana /root/grafana/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">踩坑：必须得先设置分配用户，否则会报权限错误问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">useradd grafana -g -472</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">groupadd grafana -g 472</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown -R grafana:grafana grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重新运行运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name grafana \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 3000:3000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/grafana/conf:/etc/grafana \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/grafana/data:/var/lib/grafana \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/grafana/log:/var/log/grafana \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grafana/grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:3000/login admin/admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">仪表盘模板地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://grafana.com/grafana/dashboards/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-prometheus">Docker 安装 Prometheus<a href="#docker-安装-prometheus" class="hash-link" aria-label="Docker 安装 Prometheus的直接链接" title="Docker 安装 Prometheus的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">官网：https://prometheus.io/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull dockerpull.com/prom/prometheus:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">添加配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -vp /root/prometheus &amp;&amp; cd /root/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt;&gt; prometheus.yml &lt;&lt;EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">global:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scrape_interval: 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scrape_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &quot;prometheus&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - targets: [&quot;localhost:9090&quot;,&quot;127.0.0.1:9100&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 127.0.0.1:9100 是 xxx-exporter 的地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name prometheus \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9090:9090 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/prometheus:/etc/prometheus \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prom/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1/9090</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-influxdb">Docker 安装 Influxdb<a href="#docker-安装-influxdb" class="hash-link" aria-label="Docker 安装 Influxdb的直接链接" title="Docker 安装 Influxdb的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器 8083是 influxdb 的 web 管理工具端口，8086是 influxdb 的 HTTP API 端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name influxdb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8083:8083 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8086:8086 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/influxdb:/var/lib/influxdb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tutum/influxdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name influxdb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8086:8086 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/influxdb:/var/lib/influxdb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influxdb:1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it influxdb /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /usr/bin              # bin 目录存在如下文件，可以在任意目录执行 influxd、influx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influxd            # influxdb 服务端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx             # influxdb 命令行客户端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx_inspect     # 查看工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx_stress      # 压力测试工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx_tsm         # 数据库转换工具（将数据库从 b1或 bz1格式转换为 tsm1格式）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influxd config &gt; /etc/influxdb/influxdb.conf    #可不执行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /etc/influxdb/influxdb.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /usr/lib/influxdb/scripts/influxdb.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp influxdb:/etc/influxdb/influxdb.conf /root/docker/influxdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp /root/influxdb/influxdb.conf influxdb:/etc/influxdb/influxdb.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show users;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create user &quot;root&quot; with password &#x27;root&#x27; with all privileges;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create database jmeter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show databases;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use jmeter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show measurements;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">insert jmeter,key=age value=&quot;18&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select * from jmeter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">启动客户端执行 sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx -host localhost -port 8086 -database jmeter -username &#x27;root&#x27; -password &#x27;root&#x27; -execute &#x27;select * from jmeter&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx -host localhost -port 8086 -database jmeter -username &#x27;root&#x27; -password &#x27;root&#x27; -execute &#x27;create database jmeter;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8083/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">方式二</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm influxdb:2.1.1 influxd print-config &gt; config.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name influxdb \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8086:8086 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/influxdb/config.yml:/etc/influxdb2/config.yml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/influxdb:/var/lib/influxdb2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influxdb:2.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it influxdb /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8086/ admin/admin123456</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx config create -n default \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-u http://localhost:8086 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-o my-org \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t 0rTwpq3Nmh0XXGtH4yDo6uMj-m8TNaDC-U424Dwt8mLZCg6MM13Z7E-LewmS2T2z6YAbB4c-qLAlbTWNqZ-L7Q== \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export INFLUX_TOKEN=0rTwpq3Nmh0XXGtH4yDo6uMj-m8TNaDC-U424Dwt8mLZCg6MM13Z7E-LewmS2T2z6YAbB4c-qLAlbTWNqZ-L7Q==</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-node-exporter">Docker 安装 node-exporter<a href="#docker-安装-node-exporter" class="hash-link" aria-label="Docker 安装 node-exporter的直接链接" title="Docker 安装 node-exporter的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name node-exporter \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9100:9100 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/node-exporter/proc:/host/proc:ro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/node-exporter/sys:/host/sys:ro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/node-exporter:/root/dockerfs:ro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prom/node-exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:9100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-mysqld-exporter">Docker 安装 mysqld-exporter<a href="#docker-安装-mysqld-exporter" class="hash-link" aria-label="Docker 安装 mysqld-exporter的直接链接" title="Docker 安装 mysqld-exporter的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#DATA_SOURCE_NAME=&quot;用户名:密码@(mysqlip:port)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name mysqld-exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 9104:9104 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --net=&quot;host&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --pid=&quot;host&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e DATA_SOURCE_NAME=&quot;root:root@(127.0.0.1:3306)/&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prom/mysqld-exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在 prometheus.yml 添加：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &quot;mysql&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - targets: [&quot;127.0.0.1:9104&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注：- job_name 上方留空行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:9104/metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">添加数据源：http://127.0.0.1:9090，注：不是9104</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MySQL 监控模板 ID：7362</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-消息队列">3. 消息队列<a href="#3-消息队列" class="hash-link" aria-label="3. 消息队列的直接链接" title="3. 消息队列的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-rocketmq">Docker 安装 RocketMQ<a href="#docker-安装-rocketmq" class="hash-link" aria-label="Docker 安装 RocketMQ的直接链接" title="Docker 安装 RocketMQ的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">一、安装 RocketMQ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull rocketmqinc/rocketmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、创建文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在 /root/docker/software 目录下新建文件夹 mq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir mq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/root/docker/software/mq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3、启动容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9876:9876  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/mq/data/namesrv/logs:/root/docker/logs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/mq/data/namesrv/store:/root/docker/store \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name rmqnamesrv -e &quot;MAX_POSSIBLE_HEAP=100000000&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rocketmqinc/rocketmq sh mqnamesrv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4、查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f rmqnamesrv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5、删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f rmqnamesrv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">二、安装 broker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、创建 broker.conf 文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /root/docker/software/mq/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim broker.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brokerClusterName = DefaultCluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brokerName = broker-a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brokerId = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deleteWhen = 04</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fileReservedTime = 48</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brokerRole = ASYNC_MASTER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flushDiskType = ASYNC_FLUSH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brokerIP1 = 127.0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /root/docker/software/mq/conf/broker.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、启动容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart=always --name rmqbroker \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 10911:10911 -p 10909:10909 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/mq/data/broker/logs:/root/docker/logs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/mq/rocketmq/data/broker/store:/root/docker/store \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/mq/conf/broker.conf:/opt/rocketmq-4.4.0/conf/broker.conf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--link rmqnamesrv:namesrv -e &quot;NAMESRV_ADDR=namesrv:9876&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e &quot;MAX_POSSIBLE_HEAP=200000000&quot; rocketmqinc/rocketmq:4.4.0 sh mqbroker \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-c /opt/rocketmq-4.4.0/conf/broker.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3、查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f rmqbroker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4、删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f rmqbroker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">三、安装 rocketmq 控制台</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull styletang/rocketmq-console-ng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、启动 rocketmq 控制台</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart=always --name rocketmq-console-ng \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8080:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e &quot;JAVA_OPTS=-Drocketmq.namesrv.addr=127.0.0.1:9876  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-Dcom.rocketmq.sendMessageWithVIPChannel=false&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t styletang/rocketmq-console-ng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3、查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f rocketmq-console-ng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4、访问控制台</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8080/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5、删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f rocketmq-console-ng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注意：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、IP 地址要公网的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、开放端口8080、10909、10911、9876</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-rabbitmq">Docker 安装 Rabbitmq<a href="#docker-安装-rabbitmq" class="hash-link" aria-label="Docker 安装 Rabbitmq的直接链接" title="Docker 安装 Rabbitmq的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull rabbitmq:management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">启动容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -id --hostname my-rabbit \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name rabbitmq \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 15672:15672 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 5672:5672 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e RABBITMQ_DEFAULT_USER=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e RABBITMQ_DEFAULT_PASS=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq:management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:15672 admin/admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f rabbitmq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-zookeeper">Docker 安装 Zookeeper<a href="#docker-安装-zookeeper" class="hash-link" aria-label="Docker 安装 Zookeeper的直接链接" title="Docker 安装 Zookeeper的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1、搜索惊喜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker search zookeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull zookeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3、运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir data conf logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name zookeeper \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--privileged=true \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--net=kafka_zk_net \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--log-driver json-file --log-opt max-size=100m --log-opt max-file=2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 2181:2181 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/zookeeper/data:/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/zookeeper/conf:/conf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/zookeeper/logs:/datalog \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /etc/localtime:/etc/localtime \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zookeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4、配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在 conf 目录下创建文件 zoo.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim zoo.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The number of  milliseconds of each tick</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tickTime=2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The number of ticks that the initial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># synchronization phase can take</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">initLimit=10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The number of ticks that can pass between</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># sending a request and getting an acknowledgement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syncLimit=5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the directory where the snapshot is stored.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># do not use /tmp for storage, /tmp here is just</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># example sakes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataDir=/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the port at which the clients will connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clientPort=2181</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the maximum number of client connections.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># increase this if you need to handle more clients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#maxClientCnxns=60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Be sure to read the maintenance section of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># administrator guide before turning on autopurge.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The number of snapshots to retain in dataDir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#autopurge.snapRetainCount=3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Purge task interval in hours</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set to &quot;0&quot; to disable auto purge feature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#autopurge.purgeInterval=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Metrics Providers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># https://prometheus.io Metrics Exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#metricsProvider.httpPort=7000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#metricsProvider.exportJvmInfo=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5、查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f zookeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6、查看容器状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it zookeeper /bin/bash ./bin/zkServer.sh status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7、删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f zookeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8、运行客户端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it zookeeper zkCli.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it --rm --link zookeeper:zookeeper zookeeper zkCli.sh -server zookeeper</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-kafka">Docker 安装 Kafka<a href="#docker-安装-kafka" class="hash-link" aria-label="Docker 安装 Kafka的直接链接" title="Docker 安装 Kafka的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1、搜索镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker search kafka</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、创建通信网络</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zookeeper 和 kafka 之间的通信</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker network create kafka_zk_net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看网络</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker network ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker network inspect kafka_zk_net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3、运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name kafka \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--net=kafka_zk_net \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9092:9092 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e ALLOW_PLAINTEXT_LISTENER=yes \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e KAFKA_ADVERTISED_HOST_NAME=127.0.0.1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://127.0.0.1:9092 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bitnami/kafka:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注：如果没有设置网络链接，zookeeper 名称需替换为服务器 ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4、查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f kafka</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5、启动生产者和消费者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it kafka bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /opt/bitnami/kafka/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生产者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./kafka-console-producer.sh --bootstrap-server localhost:9092 --topic topic1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">消费者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic topic1 --from-beginning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6、删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f kafka</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、运行 kafka 可视化容器（不好用）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name kafka-map \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9001:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/kafka/data:/usr/local/kafka-map/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e DEFAULT_USERNAME=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e DEFAULT_PASSWORD=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart always dushixiang/kafka-map:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、访问</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:9001/#/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3、运行 kafka 可视化容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name kafdrop \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p 9000:9000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --network kafka-network \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e KAFKA_BROKERCONNECT=your_kafka_broker_address:9092 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e JVM_OPTS=&quot;-Xms32M -Xmx256M&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obsidiandynamics/kafdrop</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-其它">4. 其它<a href="#4-其它" class="hash-link" aria-label="4. 其它的直接链接" title="4. 其它的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-portainer">Docker 安装 Portainer<a href="#docker-安装-portainer" class="hash-link" aria-label="Docker 安装 Portainer的直接链接" title="Docker 安装 Portainer的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name portainer \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9000:9000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8000:8000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /var/run/docker.sock:/var/run/docker.sock \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/portainer/data:/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> portainer/portainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址：http://127.0.0.1:9000/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第一次登录的时候需要创建管理员账号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">账号：admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">密码：admin12345678</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-jenkins">Docker 安装 Jenkins<a href="#docker-安装-jenkins" class="hash-link" aria-label="Docker 安装 Jenkins的直接链接" title="Docker 安装 Jenkins的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">启动容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name=jenkins \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-u root \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 5555:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 50000:50000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /var/jenkins_home:/var/jenkins_home \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /etc/localtime:/etc/localtime \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jenkins/jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">命令说明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d：后台运行容器；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name=jenkins：给容器起别名；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always：设置容器的重启策略为 Docker 重启时自动重启；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8888:8080：将容器的 8080 端口映射到服务器的 8888 端口；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 50000:50000：将容器的 50000 端口映射到服务器的 50000 端口；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /var/jenkins_home:/var/jenkins_home：将容器中 Jenkins 的工作目录挂载到服务器的 /var/jenkins_home；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /etc/localtime:/etc/localtime：让容器使用和服务器同样的时间设置；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址，账号密码：admin/admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:5555/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it jenkins bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Jenkins 默认密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it jenkins bash -c &#x27;cat /var/jenkins_home/secrets/initialAdminPassword&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如做目录挂载，直接在宿主机执行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /var/jenkins_home/secrets/initialAdminPassword</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器把配置拷贝到宿主机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp jenkins:/var/jenkins_home /var/jenkins_home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看目录挂载</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker inspect jenkins | grep Mounts -A 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f jenkins</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-gitlab">Docker 安装 Gitlab<a href="#docker-安装-gitlab" class="hash-link" aria-label="Docker 安装 Gitlab的直接链接" title="Docker 安装 Gitlab的直接链接">​</a></h3><p><a href="https://docs.gitlab.cn/jh/install/docker.html" target="_blank" rel="noopener noreferrer">参考资料</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">搜索镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker search gitlab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull gitlab/gitlab-ce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir config logs data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart always --name gitlab \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 443:443 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8082:80 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 222:22  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/gitlab/config:/etc/gitlab \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/gitlab/logs:/var/log/gitlab \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/software/gitlab/data:/var/opt/gitlab \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab/gitlab-ce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim /root/docker/software/gitlab/config/gitlab.rb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 配置 http 协议所使用的访问地址,不加端口号默认为80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">external_url &#x27;http://1.12.237.48&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 配置 ssh 协议所使用的访问地址和端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab_rails[&#x27;gitlab_ssh_host&#x27;] = &#x27;1.12.237.48&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#配置超时设置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab_rails[&#x27;webhook_timeout&#x27;] = 90 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab_rails[&#x27;git_timeout&#x27;]=90</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker restart gitlab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f gitlab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://1.12.237.48:8082</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it gitlab grep &#x27;Password:&#x27; /etc/gitlab/initial_root_password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root / 14u91F2B5/P4GoRxhjIWkslGoiL6xQ4SoBazO2gc520=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-gitlab-runner">Docker 安装 Gitlab Runner<a href="#docker-安装-gitlab-runner" class="hash-link" aria-label="Docker 安装 Gitlab Runner的直接链接" title="Docker 安装 Gitlab Runner的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name gitlab-runner \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /var/run/docker.sock:/var/run/docker.sock \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v `pwd`/config:/etc/gitlab-runner \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab/gitlab-runner:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it gitlab-runner /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注册 GitLab Runner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab-runner register</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gitlab-runner register  --url https://jihulab.com  --token &lt;token&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat `pwd`/config/config.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重启容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker restart gitlab-runner</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-minio">Docker 安装 Minio<a href="#docker-安装-minio" class="hash-link" aria-label="Docker 安装 Minio的直接链接" title="Docker 安装 Minio的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name minio \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9090:9090 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9001:9001 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/minio/data:/data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e &quot;MINIO_ROOT_USER=minioadmin&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e &quot;MINIO_ROOT_PASSWORD=minioadmin&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minio/minio server /data --console-address &quot;:9090&quot; -address &quot;:9000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:9090/login minioadmin/minioadmin </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-xxl-job">Docker 安装 xxl-job<a href="#docker-安装-xxl-job" class="hash-link" aria-label="Docker 安装 xxl-job的直接链接" title="Docker 安装 xxl-job的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">官方文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://gitee.com/xuxueli0323/xxl-job/tree/master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.xuxueli.com/xxl-job/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">搜索镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker search xxl-job</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull xuxueli/xxl-job-admin:2.3.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">下载 sql 文件，导入 mysql 数据库，执行 tables_xxl_job.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wget https://raw.githubusercontent.com/xuxueli/xxl-job/2.3.1/doc/db/tables_xxl_job.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">数据库说明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_lock：任务调度锁表；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_group：执行器信息表，维护任务执行器信息；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_info：调度扩展信息表：用于保存 XXL-JOB 调度任务的扩展信息，如任务分组、任务名、机器地址、执行器、执行入参和报警邮件等等；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_log：调度日志表：用于保存 XXL-JOB 任务调度的历史信息，如调度结果、执行结果、调度入参、调度机器和执行器等等；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_log_report：调度日志报表：用户存储 XXL-JOB 任务调度日志的报表，调度中心报表功能页面会用到；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_logglue：任务 GLUE 日志：用于保存 GLUE 更新历史，用于支持 GLUE 的版本回溯功能；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_registry：执行器注册表，维护在线的执行器和调度中心机器地址信息；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxl_job_user：系统用户表；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">下载 application.properties 文件，修改数据库配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wget https://raw.githubusercontent.com/xuxueli/xxl-job/2.3.1/xxl-job-admin/src/main/resources/application.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name=xxl-job-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--restart=always \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 18080:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/xxl-job/application.properties:/application.properties \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e PARAMS=&#x27;--spring.config.location=/application.properties&#x27; xuxueli/xxl-job-admin:2.3.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器（指定数据库信息）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --name xxl-job-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e PARAMS=&quot;--spring.datasource.url=jdbc:mysql://127.0.0.1:3306/xxl_job?useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true&amp;serverTimezone=Asia/Shanghai&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--spring.datasource.username=root \ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--spring.datasource.password=root \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 18080:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/xxl-job/data/applogs:/data/applogs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d xuxueli/xxl-job-admin:2.3.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f xxl-job-admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址 admin/123456</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:18080/xxl-job-admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-zentao">Docker 安装 zentao<a href="#docker-安装-zentao" class="hash-link" aria-label="Docker 安装 zentao的直接链接" title="Docker 安装 zentao的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">官网地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.zentao.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name zentao \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8888:80 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/zentao/zentaopms:/www/zentaopms \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/docker/zentao/mysql:/var/lib/mysql \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e MYSQL_ROOT_PASSWORD=123456 easysoft/zentao:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f zentao</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f zentao</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8888</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-tomcat">Docker 安装 Tomcat<a href="#docker-安装-tomcat" class="hash-link" aria-label="Docker 安装 Tomcat的直接链接" title="Docker 安装 Tomcat的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name tomcat \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8888:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tomcat:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it tomcat /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8888/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">踩坑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问问不到主页的原因是因为存放主页的文件夹 webapps 是空的, docker 的 tomcat 将这些文件放在了 webapps.dist 文件夹中,只需要将空的 webapps 文件夹删除,然后将 webapps.dist 重命名为 webapps 就可以了</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-sonar">Docker 安装 Sonar<a href="#docker-安装-sonar" class="hash-link" aria-label="Docker 安装 Sonar的直接链接" title="Docker 安装 Sonar的直接链接">​</a></h3><p><a href="https://hub.docker.com/_/sonarqube" target="_blank" rel="noopener noreferrer">sonarqube</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name sonarqube \ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 9100:9000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sonarqube:8.9.2-community</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址 默认账号密码：admin/admin，更新账号密码为 admin/root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:9100/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-jira">Docker 安装 JIRA<a href="#docker-安装-jira" class="hash-link" aria-label="Docker 安装 JIRA的直接链接" title="Docker 安装 JIRA的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">运行容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run  --name=jira -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v jiraVolume:/var/atlassian/application-data/jira \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8084:8080 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">atlassian/jira-software</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">访问地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:8084</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://my.atlassian.com/product" target="_blank" rel="noopener noreferrer">获取许可证</a>  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-安装-nginx">Docker 安装 Nginx<a href="#docker-安装-nginx" class="hash-link" aria-label="Docker 安装 Nginx的直接链接" title="Docker 安装 Nginx的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d -p 9999:80 --name=nginx -v /root/nginx-logs:/var/log/nginx nginx:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>踩坑：<br>
<!-- -->安装自带 Nginx 的容器，访问页面总是404，尝试做删除所有镜像和所有容器还是不成功，最后重装系统再重新运行容器才成功。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Docker/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Docker</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Docker/Orbstack"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Orbstack</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-数据库" class="table-of-contents__link toc-highlight">1. 数据库</a><ul><li><a href="#docker-安装-mysql" class="table-of-contents__link toc-highlight">Docker 安装 MySQL</a></li><li><a href="#docker-安装-redis" class="table-of-contents__link toc-highlight">Docker 安装 Redis</a></li><li><a href="#docker-安装-redisinsight" class="table-of-contents__link toc-highlight">Docker 安装 redisinsight</a></li><li><a href="#docker-安装-postgres" class="table-of-contents__link toc-highlight">Docker 安装 Postgres</a></li><li><a href="#docker-安装-mongodb" class="table-of-contents__link toc-highlight">Docker 安装 MongoDB</a></li><li><a href="#docker-安装-clickhouse" class="table-of-contents__link toc-highlight">Docker 安装 ClickHouse</a></li><li><a href="#docker-安装-hive-未实践成功" class="table-of-contents__link toc-highlight">Docker 安装 Hive (未实践成功)</a></li></ul></li><li><a href="#2-监控" class="table-of-contents__link toc-highlight">2. 监控</a><ul><li><a href="#docker-安装-grafana" class="table-of-contents__link toc-highlight">Docker 安装 Grafana</a></li><li><a href="#docker-安装-prometheus" class="table-of-contents__link toc-highlight">Docker 安装 Prometheus</a></li><li><a href="#docker-安装-influxdb" class="table-of-contents__link toc-highlight">Docker 安装 Influxdb</a></li><li><a href="#docker-安装-node-exporter" class="table-of-contents__link toc-highlight">Docker 安装 node-exporter</a></li><li><a href="#docker-安装-mysqld-exporter" class="table-of-contents__link toc-highlight">Docker 安装 mysqld-exporter</a></li></ul></li><li><a href="#3-消息队列" class="table-of-contents__link toc-highlight">3. 消息队列</a><ul><li><a href="#docker-安装-rocketmq" class="table-of-contents__link toc-highlight">Docker 安装 RocketMQ</a></li><li><a href="#docker-安装-rabbitmq" class="table-of-contents__link toc-highlight">Docker 安装 Rabbitmq</a></li><li><a href="#docker-安装-zookeeper" class="table-of-contents__link toc-highlight">Docker 安装 Zookeeper</a></li><li><a href="#docker-安装-kafka" class="table-of-contents__link toc-highlight">Docker 安装 Kafka</a></li></ul></li><li><a href="#4-其它" class="table-of-contents__link toc-highlight">4. 其它</a><ul><li><a href="#docker-安装-portainer" class="table-of-contents__link toc-highlight">Docker 安装 Portainer</a></li><li><a href="#docker-安装-jenkins" class="table-of-contents__link toc-highlight">Docker 安装 Jenkins</a></li><li><a href="#docker-安装-gitlab" class="table-of-contents__link toc-highlight">Docker 安装 Gitlab</a></li><li><a href="#docker-安装-gitlab-runner" class="table-of-contents__link toc-highlight">Docker 安装 Gitlab Runner</a></li><li><a href="#docker-安装-minio" class="table-of-contents__link toc-highlight">Docker 安装 Minio</a></li><li><a href="#docker-安装-xxl-job" class="table-of-contents__link toc-highlight">Docker 安装 xxl-job</a></li><li><a href="#docker-安装-zentao" class="table-of-contents__link toc-highlight">Docker 安装 zentao</a></li><li><a href="#docker-安装-tomcat" class="table-of-contents__link toc-highlight">Docker 安装 Tomcat</a></li><li><a href="#docker-安装-sonar" class="table-of-contents__link toc-highlight">Docker 安装 Sonar</a></li><li><a href="#docker-安装-jira" class="table-of-contents__link toc-highlight">Docker 安装 JIRA</a></li><li><a href="#docker-安装-nginx" class="table-of-contents__link toc-highlight">Docker 安装 Nginx</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5e310ca4.js"></script>
<script src="/assets/js/main.cb284e89.js"></script>
</body>
</html>