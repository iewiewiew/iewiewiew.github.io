<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-SoftwareTest/性能测试/性能测试监控">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">性能测试监控 | 知行合一</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" name="twitter:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" property="og:url" content="https://iewiewiew.github.io/docs/SoftwareTest/性能测试/性能测试监控"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="性能测试监控 | 知行合一"><meta data-rh="true" name="description" content="[TOC]"><meta data-rh="true" property="og:description" content="[TOC]"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://iewiewiew.github.io/docs/SoftwareTest/性能测试/性能测试监控"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/SoftwareTest/性能测试/性能测试监控" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/SoftwareTest/性能测试/性能测试监控" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.183e182e.css">
<link rel="preload" href="/assets/js/runtime~main.5e310ca4.js" as="script">
<link rel="preload" href="/assets/js/main.cb284e89.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">wei</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">目录</a><a href="https://www.processon.com/mindmap/6138112f1e085306ef9fe608" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">技能图谱<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/iewiewiew" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">README</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/AI/">AI</a><button aria-label="打开/收起侧边栏菜单「AI」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Ansible/">Ansible</a><button aria-label="打开/收起侧边栏菜单「Ansible」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/CSBasic/Network">CSBasic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Chaos/ChaosBlade">Chaos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Database/ClickHouse/">Database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/DevOps/">DevOps</a><button aria-label="打开/收起侧边栏菜单「DevOps」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Docker/">Docker</a><button aria-label="打开/收起侧边栏菜单「Docker」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Git/">Git</a><button aria-label="打开/收起侧边栏菜单「Git」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/JMeter/">JMeter</a><button aria-label="打开/收起侧边栏菜单「JMeter」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Jenkins/">Jenkins</a><button aria-label="打开/收起侧边栏菜单「Jenkins」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Kubernetes/">Kubernetes</a><button aria-label="打开/收起侧边栏菜单「Kubernetes」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Linux/">Linux</a><button aria-label="打开/收起侧边栏菜单「Linux」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Middleware/Apollo/">Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Mixinfo/BigData/大数据">Mixinfo</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/SoftwareTest/AppTest">SoftwareTest</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/AppTest">AppTest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/安全测试/">安全测试</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/SoftwareTest/性能测试/性能测试">性能测试</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/性能测试/性能测试">性能测试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/SoftwareTest/性能测试/性能测试监控">性能测试监控</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/性能测试/性能测试方案模板">性能测试方案模板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/性能测试/发压环境搭建">发压环境搭建</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/性能测试/压力测试工具">压力测试工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/性能测试/知识碎片">知识碎片</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/SoftwareTest/接口测试/JaCoCo">接口测试</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/流量复制">流量复制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/测试方法">测试方法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/测试用例">测试用例</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/SoftwareTest/测试碎片">测试碎片</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/SoftwareTest/监控体系/Prometheus+Grafana">监控体系</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SoftwareTest</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">性能测试</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">性能测试监控</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>性能测试监控</h1></header><p>[TOC]</p><h1 align="center">性能测试监控</h1><blockquote><p>By：weimenghua<br>
<!-- -->Date：2023.06.02<br>
<!-- -->Description：  </p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-jmeterinfluxdbgrafana">1. JMeter+InfluxDB+Grafana<a href="#1-jmeterinfluxdbgrafana" class="hash-link" aria-label="1. JMeter+InfluxDB+Grafana的直接链接" title="1. JMeter+InfluxDB+Grafana的直接链接">​</a></h2><ul><li>JMeter 压测工具</li><li>InfluxDB 时序数据库，采集 JMeter 压测数据</li><li>Grafana 展示来自 InfluxDB 的数据</li></ul><p><img loading="lazy" alt="img" src="/assets/images/JMeter+InfluxDB+Grafana-35c3f24a2661e05cb29d9c199abf7509.png" width="1342" height="746" class="img_ev3q"></p><p><a target="_blank" href="/assets/files/install_monitor-fd0420187131c6b0daecb7ed84ebce1c.sh">基于 Docker 一键安装监控环境</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-jmeter">1.1 JMeter<a href="#11-jmeter" class="hash-link" aria-label="1.1 JMeter的直接链接" title="1.1 JMeter的直接链接">​</a></h3><p><strong>配置【后端监听器】1.x 版本</strong><br>
<!-- -->用户定义的变量：<code>influxdbIp 127.0.0.1</code><br>
<!-- -->后端监听器实现：<code>org.apache.jmeter.visualizers.backend.influxdb.InfluxdbBackendListenerClient</code> （注：一定要选择这个）<br>
<!-- -->influxdbUrl：<code>http://${influxdbIp}:8086/write?db=jmeter</code></p><p><img loading="lazy" alt="img" src="/assets/images/后端监听器-916eb639b6853c42b62167e43be3abca.png" width="1776" height="734" class="img_ev3q"></p><p><strong>配置【后端监听器】2.x 版本（未实践成功）</strong><br>
<!-- -->influxdbUrl：<code>http://${influxdbIp}:8086/api/v2/write?org=my-org&amp;bucket=jmeter</code><br>
<!-- -->API TOKEN：<code>HCj4as6ooKLCQX2uvZqrk4LQQTTqTpzb-u1f7PAE3fKQ9YYg7fVp-uFhK5mq1v-P72luDCvJWAs2KXR-WsYVnQ==</code>  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-influxdb">1.2 InfluxDB<a href="#12-influxdb" class="hash-link" aria-label="1.2 InfluxDB的直接链接" title="1.2 InfluxDB的直接链接">​</a></h3><p><a href="https://www.influxdata.com/" target="_blank" rel="noopener noreferrer">InfluxDB 官网</a><br>
<a href="http://127.0.0.1:8083" target="_blank" rel="noopener noreferrer">InfluxDB 可视化页面</a><br>
<a href="http://127.0.0.1:8086/" target="_blank" rel="noopener noreferrer">InfluxDB API 端口</a> </p><p><img loading="lazy" alt="img" src="/assets/images/Grafana+InfluxDB配置-ed9420b6f36e79f7b6175ddc22267ae2.png" width="3024" height="1492" class="img_ev3q"></p><p><strong>进入容器操作数据</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it influxdb bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">influx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">插件用户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show users;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建用户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create user &quot;root&quot; with password &#x27;root&#x27; with all privileges;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create database jmeter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show databases;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">切换数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use jmeter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show measurements;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">插入表数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">insert jmeter,key=age value=&quot;18&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看表数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select * from jmeter;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>API 操作数据</strong></p><ul><li>创建数据库（POST）：<code>http://127.0.0.1:8086/query?q=CREATE+DATABASE+%22jmeter%22&amp;db=jmeter</code></li><li>查看数据库： <code>http://127.0.0.1:8086/query?q=SHOW+DATABASES&amp;db=jmeter</code></li><li>查看表数据： <code>http://127.0.0.1:8086/query?q=select+*+from+jmeter&amp;db=jmeter</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-grafana">1.3 Grafana<a href="#13-grafana" class="hash-link" aria-label="1.3 Grafana的直接链接" title="1.3 Grafana的直接链接">​</a></h3><p><strong>Grafana 页面</strong><br>
<!-- -->访问地址：<code>http://127.0.0.1:3000/login</code>  admin / admin</p><p><img loading="lazy" alt="img" src="/assets/images/Grafana页面-d6eecc4ff79858258f12c108f18e72cb.png" width="3024" height="1494" class="img_ev3q"></p><p><strong>Grafana 配置</strong><br>
<!-- -->配置数据源<br>
<!-- -->点击左下【设置】&gt; 点击【Configuration】 &gt;  切换到【Data sources】 &gt; 点击【Add data sources】 &gt;  点击【InfluxDB】&gt; 配置如下参数 &gt; 点击【Save &amp; test】<br>
<!-- -->1、Name：JMeter<br>
<!-- -->2、HTTP URL：<code>http://127.0.0.1:8086</code><br>
<!-- -->3、Database：jmeter  </p><p><img loading="lazy" alt="img" src="/assets/images/Grafana+InfluxDB配置-ed9420b6f36e79f7b6175ddc22267ae2.png" width="3024" height="1492" class="img_ev3q"></p><p><img loading="lazy" alt="img" src="/assets/images/Grafana+InfluxDB配置2-c76b41c5edaf377a1b42354f94f94a72.png" width="3024" height="1494" class="img_ev3q"></p><p>配置仪表盘<br>
<!-- -->点击左上【仪表盘】图标  &gt;  点击【+ Import】 &gt;  在【Import via grafana.com】输入【5496】&gt; 点击【Load】 &gt; 在 DB name 选择【InfluxDB】数据源 &gt; 点击【Import】<br>
<a href="https://grafana.com/grafana/dashboards/5496-apache-jmeter-dashboard-by-ubikloadpack/" target="_blank" rel="noopener noreferrer">JMeter 模板 ID</a> ：5496  </p><p><img loading="lazy" alt="img" src="/assets/images/JMeter模板-b66a35328c0da065bac3c1146710432e.png" width="3024" height="1496" class="img_ev3q"></p><p><strong>JMeter 仪表盘</strong></p><p><img loading="lazy" alt="img" src="/assets/images/JMeter仪表盘-12fe93fd3ab61ded87dc3078ad586932.png" width="3024" height="1496" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-prometheusnode-exportergrafana">2. Prometheus+Node-Exporter+Grafana<a href="#2-prometheusnode-exportergrafana" class="hash-link" aria-label="2. Prometheus+Node-Exporter+Grafana的直接链接" title="2. Prometheus+Node-Exporter+Grafana的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-prometheus">2.1 Prometheus<a href="#21-prometheus" class="hash-link" aria-label="2.1 Prometheus的直接链接" title="2.1 Prometheus的直接链接">​</a></h3><p>访问地址：<a href="http://127.0.0.1:9090/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:9090/</a><br>
<!-- -->在 Target 查看监控数据源：<a href="http://127.0.0.1:9090/targets?search=" target="_blank" rel="noopener noreferrer">http://127.0.0.1:9090/targets?search=</a><br>
<!-- -->在 prometheus.yml 配置 xxx-exporter 的地址  </p><p><img loading="lazy" alt="img" src="/assets/images/Prometheus数据源-217d1b7d47a829c8173edcd377e93b7f.png" width="3024" height="1496" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-node-exporter">2.2 Node-Exporter<a href="#22-node-exporter" class="hash-link" aria-label="2.2 Node-Exporter的直接链接" title="2.2 Node-Exporter的直接链接">​</a></h3><p>Node-Exporter 页面访问地址：<a href="http://127.0.0.1:9100/metrics" target="_blank" rel="noopener noreferrer">http://127.0.0.1:9100/metrics</a></p><p><img loading="lazy" alt="img" src="/assets/images/Node-Exporter页面-a3c2d9ccf9b9cec49e785072a1fa99d9.png" width="3024" height="1502" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-grafana">2.3 Grafana<a href="#23-grafana" class="hash-link" aria-label="2.3 Grafana的直接链接" title="2.3 Grafana的直接链接">​</a></h3><p><strong>Grafana 配置</strong><br>
<!-- -->配置数据源
点击左下【设置】&gt; 点击【Configuration】 &gt;  切换到【Data sources】 &gt; 点击【Add data sources】 &gt;  点击【Prometheus】&gt; 配置如下参数 &gt; 点击【Save &amp; test】<br>
<!-- -->URL：<a href="http://127.0.0.1:9090/" target="_blank" rel="noopener noreferrer">http://127.0.0.1:9090/</a></p><p><img loading="lazy" alt="img" src="/assets/images/Grafna数据源-9f7e7acaecfb869ee5cef8b94f06c0ae.png" width="3024" height="1498" class="img_ev3q"></p><p><strong>配置仪表盘</strong>
点击左上【仪表盘】图标  &gt;  点击【+ Import】 &gt;  在【Import via grafana.com】输入【<a href="https://grafana.com/grafana/dashboards/11074-node-exporter-for-prometheus-dashboard-en-v20201010/" target="_blank" rel="noopener noreferrer">Node-Exporter 模板 ID</a>
11074】&gt; 点击【Load】 &gt; 在 VictoriaMetrics 选择【Prometheus】数据源 &gt; 点击【Import】</p><p><img loading="lazy" alt="img" src="/assets/images/Grafna仪表盘-418848e8157e47eab5ff279fd967cb75.png" width="3024" height="1496" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-telegrafgrafana">3. Telegraf+Grafana<a href="#3-telegrafgrafana" class="hash-link" aria-label="3. Telegraf+Grafana的直接链接" title="3. Telegraf+Grafana的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-telegraf">3.1 Telegraf<a href="#31-telegraf" class="hash-link" aria-label="3.1 Telegraf的直接链接" title="3.1 Telegraf的直接链接">​</a></h3><p><a href="https://github.com/telegraf" target="_blank" rel="noopener noreferrer">Telegraf 源码</a><br>
<a href="https://portal.influxdata.com/downloads/" target="_blank" rel="noopener noreferrer">Telegraf 下载1</a><br>
<a href="https://www.influxdata.com/time-series-platform/telegraf/" target="_blank" rel="noopener noreferrer">Telegraf 下载2</a>  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 获取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull telegraf:alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 获取配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm telegraf:alpine telegraf config &gt; /root/telegraf/telegraf.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">参考下方 telegraf.conf 配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 创建数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE DATABASE telegraf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动容器，监控容器宿主机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name=telegraf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 8125:8125/udp \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /root/telegraf/telegraf.conf:/etc/telegraf/telegraf.conf:ro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v /:/hostfs:ro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e HOST_ETC=/hostfs/etc \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e HOST_PROC=/hostfs/proc \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e HOST_SYS=/hostfs/sys \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e HOST_VAR=/hostfs/var \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e HOST_RUN=/hostfs/run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e HOST_MOUNT_PREFIX=/hostfs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telegraf:alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telegraf.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[outputs.influxdb]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urls = [&quot;http://influxdb:8086&quot;] # influxdb &gt; 具体的 IP 地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">database = &quot;telegraf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exclude_database_tag = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">username = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[inputs.statsd]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_tcp_connections = 250</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp_keep_alive = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service_address = &quot;:8125&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete_gauges = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete_counters = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete_sets = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete_timings = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">percentiles = [90.0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metric_separator = &quot;.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parse_data_dog_tags = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datadog_extensions = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">allowed_pending_messages = 10000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">percentile_limit = 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagexclude = [&quot;metric_type&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fielddrop = [&quot;count&quot;, &quot;stddev&quot;, &quot;sum&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[inputs.mem]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fieldpass = [&quot;used_percent&quot;, &quot;total&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[inputs.disk]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fieldpass = [&quot;used_percent&quot;, &quot;total&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-grafana">3.2 Grafana<a href="#32-grafana" class="hash-link" aria-label="3.2 Grafana的直接链接" title="3.2 Grafana的直接链接">​</a></h3><p>Grafana 模板 ID：1443<br>
<!-- -->Grafana 模板 ID：5955</p><p><img loading="lazy" alt="img" src="/assets/images/Grafna仪表盘2-a142d67c8fbbb49196049f133726e6b7.png" width="3024" height="1496" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-知识碎片">4. 知识碎片<a href="#4-知识碎片" class="hash-link" aria-label="4. 知识碎片的直接链接" title="4. 知识碎片的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kube-prometheus">kube-prometheus<a href="#kube-prometheus" class="hash-link" aria-label="kube-prometheus的直接链接" title="kube-prometheus的直接链接">​</a></h3><p><a href="https://github.com/prometheus-operator/kube-prometheus" target="_blank" rel="noopener noreferrer">kube-prometheus</a></p><p><a href="https://clickvisual.net/zh/clickvisual/" target="_blank" rel="noopener noreferrer">ClickVisual 是一个轻量级的开源日志查询、分析、报警的可视化平台</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/SoftwareTest/性能测试/性能测试"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">性能测试</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/SoftwareTest/性能测试/性能测试方案模板"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">性能测试方案模板</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-jmeterinfluxdbgrafana" class="table-of-contents__link toc-highlight">1. JMeter+InfluxDB+Grafana</a><ul><li><a href="#11-jmeter" class="table-of-contents__link toc-highlight">1.1 JMeter</a></li><li><a href="#12-influxdb" class="table-of-contents__link toc-highlight">1.2 InfluxDB</a></li><li><a href="#13-grafana" class="table-of-contents__link toc-highlight">1.3 Grafana</a></li></ul></li><li><a href="#2-prometheusnode-exportergrafana" class="table-of-contents__link toc-highlight">2. Prometheus+Node-Exporter+Grafana</a><ul><li><a href="#21-prometheus" class="table-of-contents__link toc-highlight">2.1 Prometheus</a></li><li><a href="#22-node-exporter" class="table-of-contents__link toc-highlight">2.2 Node-Exporter</a></li><li><a href="#23-grafana" class="table-of-contents__link toc-highlight">2.3 Grafana</a></li></ul></li><li><a href="#3-telegrafgrafana" class="table-of-contents__link toc-highlight">3. Telegraf+Grafana</a><ul><li><a href="#31-telegraf" class="table-of-contents__link toc-highlight">3.1 Telegraf</a></li><li><a href="#32-grafana" class="table-of-contents__link toc-highlight">3.2 Grafana</a></li></ul></li><li><a href="#4-知识碎片" class="table-of-contents__link toc-highlight">4. 知识碎片</a><ul><li><a href="#kube-prometheus" class="table-of-contents__link toc-highlight">kube-prometheus</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5e310ca4.js"></script>
<script src="/assets/js/main.cb284e89.js"></script>
</body>
</html>