<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Git/Git">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Git | 知行合一</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" name="twitter:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" property="og:url" content="https://iewiewiew.github.io/docs/Git/"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Git | 知行合一"><meta data-rh="true" name="description" content="[TOC]"><meta data-rh="true" property="og:description" content="[TOC]"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://iewiewiew.github.io/docs/Git/"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/Git/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/Git/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZNU4NQPM1V-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="知行合一" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.0ebb5d40.css">
<link rel="preload" href="/assets/js/runtime~main.cbea1bda.js" as="script">
<link rel="preload" href="/assets/js/main.904b21c1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">wei</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">目录</a><a href="https://www.processon.com/mindmap/6138112f1e085306ef9fe608" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">技能图谱<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/iewiewiew" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">README</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/AI/">AI</a><button aria-label="打开/收起侧边栏菜单「AI」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/CSBasic/Network">CSBasic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Chaos/ChaosBlade">Chaos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Database/ClickHouse/">Database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/DevOps/">DevOps</a><button aria-label="打开/收起侧边栏菜单「DevOps」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/docs/Git/">Git</a><button aria-label="打开/收起侧边栏菜单「Git」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Git/代码托管平台">代码托管平台</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Git/分布式版本控制系统">分布式版本控制系统</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Linux/">Linux</a><button aria-label="打开/收起侧边栏菜单「Linux」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Middleware/Apollo/">Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Mixinfo/BigData/大数据">Mixinfo</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/SoftwareTest/AppTest">SoftwareTest</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Git</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Git</h1></header><p>[TOC]</p><h1 align="center">Git</h1><blockquote><p>By: weimenghua<br>
<!-- -->Date: 2023.01.01<br>
<!-- -->Description: Git 分布式版本控制系统</p></blockquote><p><strong>参考资料</strong><br>
<a href="https://gitee.com/all-about-git" target="_blank" rel="noopener noreferrer">all-about-git</a><br>
<a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener noreferrer">git-scm.com</a><br>
<a href="https://learngitbranching.js.org/?locale=zh_CN&amp;NODEMO=" target="_blank" rel="noopener noreferrer">learngitbranching</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-git-工作流程">1. Git 工作流程<a href="#1-git-工作流程" class="hash-link" aria-label="1. Git 工作流程的直接链接" title="1. Git 工作流程的直接链接">​</a></h2><p><img loading="lazy" src="/assets/images/git-workflow-cb4f2c30413803155b31edc98c3db926.png" width="1172" height="340" class="img_ev3q"></p><ol><li>Workspace：工作区</li><li>Index / Stage：暂存区</li><li>Repository：仓库区（或本地仓库）</li><li>Remote：远程仓库</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">工作区 &gt; 暂存区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add &lt;file/dir&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">暂存区 &gt; 本地仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;暂存区 &gt; 本地仓库&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">本地仓库 &gt; 远程仓库（本地 master 分支推送到远程 origin 仓库）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">工作区 &lt; 暂存区（暂存区文件内容覆盖工作区文件内容）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -- &lt;file&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">暂存区 &lt; 本地仓库（本地仓库文件内容覆盖暂存区文件内容）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset HEAD &lt;file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">本地仓库 &lt; 远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;remoteUrl&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>示例 Demo</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">创建文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir demo                                      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd demo                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">初始化本地仓库，如果没看见.git 目录，使用 ls -ah 可见，注：将隐藏文件设置可见</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git init       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo 123 &gt;&gt;  README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">提交文件到暂存区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">提交文件到本地仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;first commit&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">关联远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote add origin git@gitee.com:&lt;userName&gt;/&lt;repoName&gt;.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">更改远程仓库地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote ser-url origin git@gitee.com:&lt;userName&gt;/&lt;repoName2&gt;.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -u origin master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">= git branch --set-upstream-to=origin/master master + git push origin master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改本地默认关联的远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch --set-upstream-to=origin/main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>示例 Demo（简洁版）</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git init </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">touch README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;first commit&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote add origin git@gitee.com:&lt;userName&gt;/&lt;repoName&gt;.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -u origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-git-知识点">2. Git 知识点<a href="#2-git-知识点" class="hash-link" aria-label="2. Git 知识点的直接链接" title="2. Git 知识点的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-存储">Git 存储<a href="#git-存储" class="hash-link" aria-label="Git 存储的直接链接" title="Git 存储的直接链接">​</a></h3><p>Git 存储内容是通过 object 的形式，文件内容是 blob 的 object，目录是 tree 的 object，commit 就是 commit 的 object。<br>
<!-- -->Blob 对象表示一个不可变、原始数据的类文件对象。 它的数据可以按文本或二进制的格式进行读取，也可以转换成 ReadableStream 来用于数据操作。 Blob 表示的不一定是 JavaScript 原生格式的数据。 File 接口基于 Blob ，继承了 blob 的功能并将其扩展以支持用户系统上的文件。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git cat-file -t &lt;commitId 或者 ？&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看（对象类型）每个 SHA-1 的类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git cat-file -p &lt;commitId 或者 ？&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看（对象内容）每个对象的内容和简单的数据结构</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/cat-file-d7c6f93ceb9fc17475186b7a5ba2693b.png" width="1039" height="236" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-文件状态">Git 文件状态<a href="#git-文件状态" class="hash-link" aria-label="Git 文件状态的直接链接" title="Git 文件状态的直接链接">​</a></h3><ol><li>已修改（modified）</li><li>已暂存（staged）</li><li>已提交（committed）</li><li>未追踪（Untrack）</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-commit-规范">Git commit 规范<a href="#git-commit-规范" class="hash-link" aria-label="Git commit 规范的直接链接" title="Git commit 规范的直接链接">​</a></h3><ol><li>type: commit 的类型</li><li>feat: 新特性</li><li>fix: 修改问题</li><li>refactor: 代码重构</li><li>docs: 文档修改</li><li>style: 代码格式修改，注意不是 css 修改</li><li>test: 测试用例修改</li><li>chore: 其他修改，比如构建流程，依赖管理.</li><li>pref: 性能提升的修改</li><li>build: 对项目构建或者依赖的改动</li><li>ci: CI 的修改</li><li>revert: revert 前一个 commit</li></ol><p>Git 设置</p><p>设置 Git 缓冲区大小</p><p>1、将本地 http.postBuffer 数值调整到 GitHub 服务对应的单次上传大小配置： http.postBuffer 默认单位为 B（字节），所以500MB=1024<em>1024</em>500。 </p><p>方法一：全局配置 git config --global http.postBuffer 524288000   </p><p>方法二：当前仓库配置  git config http.postBuffer 524288000 </p><p>2、查看 http.postBuffer 数值是否设置成功 </p><p>查看当前的 Git 配置 git config --list  </p><p>.git 目录结构</p><p>查看命令：tree -L 1 .git</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── COMMIT_EDITMSG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── FETCH_HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── ORIG_HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── lfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── packed-refs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── refs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>.git/COMMIT_EDITMSG - 存储提交消息</li><li>.git/FETCH_HEAD - 存储最近一次从远程仓库执行的 git fetch 命令的结果</li><li>.git/HEAD - 当前代码仓库的分支指针</li><li>.git/ORIG_HEAD - 保存上一次执行某些具有潜在危险操作的命令（如git reset、git revert、git cherry-pick等）前所处的提交</li><li>.git/config - 当前代码仓库本地的配置文件<ul><li>本地配置文件（.git/config）和全局配置文件（~/.gitconfig）</li><li>通过执行如下命令，可以将用户配置记录到本地代码仓库的配置文件中去</li><li>git config user.name &quot;demo&quot;</li><li>git config user.email &quot;<a href="mailto:demo@demo.com" target="_blank" rel="noopener noreferrer">demo@demo.com</a>&quot;</li></ul></li><li>.git/description - 当前代码仓库的描述信息</li><li>.git/hooks - 当前代码仓库默认钩子脚本</li><li>.git/index - 暂存区、Stage 或 Cache，记录将要提交到版本库的文件和文件状态</li><li>.git/info - 当前仓库的排除等信息</li><li>.git/lfs - 存储 lfs 信息</li><li>.git/logs - 操作日志</li><li>.git/objects - 当前代码仓库代码的存储位置<ul><li>blob 类型</li><li>commit 类型</li><li>tree 类型</li></ul></li><li>.git/packed-refs - 记录了分支、标签和其他引用的提交（commit）信息</li><li>.git/refs - 当前代码仓库的头指针</li></ul><p>.gitignore</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">忽略文件和目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">例如：folderName : 表示忽略 folderName 文件和 folderName 目录，会自动搜索多级目录，比如：*/*/folderName。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">仅忽略 folderName 文件，而不忽略 folderName 目录，其中，感叹号“!”表示反向操作。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">例如：!folderName/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>.gitkeep</p><p>Git 不能直接提交空文件夹，需在空文件夹里 vi .gitkeep，按 Esc，输入 ：wq！保存并退出。</p><p>其实在 git 中 .gitkeep 就是一个占位符。可以用其他 比如 .nofile 等文件作为占位符。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-git-命令">3. Git 命令<a href="#3-git-命令" class="hash-link" aria-label="3. Git 命令的直接链接" title="3. Git 命令的直接链接">​</a></h2><p>目录（字母排序）</p><ol><li>git add</li><li>git archive</li><li>git blame</li><li>git branch</li><li>git bundle</li><li>git checkout</li><li>git cherry-pick</li><li>git clean</li><li>git clone</li><li>git commit</li><li>git config</li><li>git diff</li><li>git fetch</li><li>git gc</li><li>git init</li><li>git log</li><li>git pull</li><li>git push</li><li>git rebase</li><li>git remote</li><li>git reset</li><li>git revert</li><li>git rm</li><li>git show</li><li>git stash</li><li>git status</li><li>git submodule</li><li>git subtree</li><li>git tag</li><li>other</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-add">git add<a href="#git-add" class="hash-link" aria-label="git add的直接链接" title="git add的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">添加当前目录的所有文件到暂存区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">添加指定文件/文件夹到暂存区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add &lt;file&gt;/&lt;fileDir&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-archive">git archive<a href="#git-archive" class="hash-link" aria-label="git archive的直接链接" title="git archive的直接链接">​</a></h3><p>是一个 Git 命令，用于创建一个存储库内容的归档文件，保留指定状态的快照。这在发布项目或分享存储库的快照时特别有用，因为这样可以不包括整个历史记录和元数据。以下是 git archive 命令的使用方法：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">创建当前分支最新提交的归档文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git archive -o archive-name.tar HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">可以指定特定的提交、标签或分支来归档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git archive -o archive-name.tar &lt;commit-or-branch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果只想归档存储库中的特定目录，可以指定该目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git archive -o archive-name.tar HEAD &lt;directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">默认情况下，git archive 创建的是 tar 包。你也可以使用 --format 选项来创建 zip 文件：git archive --format=zip -o archive-name.zip HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">示例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git archive --format=tar.gz --prefix=test_repo_1.0.0/ --output=test_repo_1.0.0.tar.gz --remote=ssh://git@example.com/testent001/test_repo.git v1.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-blame">git blame<a href="#git-blame" class="hash-link" aria-label="git blame的直接链接" title="git blame的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">追溯一个指定文件的历史修改记录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git blame README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e 选项显示作者的电子邮件地址而不是用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git blame -e README.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-branch">git branch<a href="#git-branch" class="hash-link" aria-label="git branch的直接链接" title="git branch的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看本地分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch                                      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看远程分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch -r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">展示本地分支关联远程仓库的情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch -vv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看当前分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git symbolic-ref -q --short HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch &lt;brachName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">切换分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;brachName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">分支的快速创建与切换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b &lt;brachName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改本地分支名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch -m &lt;oldBranchName&gt; &lt;newBranchName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将本地新分支推送到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push --set-upstream origin &lt;newBrachName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">把本地分支和远程分支进行关联</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch --set-upstream-to=origin/&lt;brachName&gt; &lt;brachName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">合并分支，将完成后的代码合并到 master 主分支上</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除本地分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch -d &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">强制删除一个没有合并的分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch -D &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除远程分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin :&lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin --delete &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示所有已合并到当前分支的分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch --merged                                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示所有未合并到当前分支的分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch --no-merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看有哪些分支包含 commit_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch --contains &lt;commit_id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">图示当前分支历史</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show-branch                                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">图示所有分支历史</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show-branch --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除已经合并到 master 的分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch --merged master | grep -v &#x27;^\*\|  master&#x27; | xargs -n 1 git branch -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除本地所有分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch | grep -v &quot;master&quot; | xargs git branch -D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shF删除远程所有分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin --delete $(git branch -r | grep -v master | awk &#x27;{print $1}&#x27; | sed &#x27;s/origin\///&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看分支创建者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline master | cut -d &quot; &quot; -f 1 | tail -1 | xargs git log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git for-each-ref --format=&#x27;%(committerdate) %09 %(authorname) %09 %(refname)&#x27; | sort -k5n -k2M -k3n -k4n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-bundle">git bundle<a href="#git-bundle" class="hash-link" aria-label="git bundle的直接链接" title="git bundle的直接链接">​</a></h3><p>通过归档移动对象和引用</p><p><a href="https://cloud.tencent.com/developer/section/1138639" target="_blank" rel="noopener noreferrer">git bundle</a>
<a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E6%89%93%E5%8C%85" target="_blank" rel="noopener noreferrer">git 打包</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git bundle create &lt;file&gt; &lt;git-rev-list-args&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git bundle verify &lt;file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git bundle list-heads &lt;file&gt; [&lt;refname&gt;…]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git bundle unbundle &lt;file&gt; [&lt;refname&gt;…]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将历史记录从计算机 A上的存储库 R1传输到计算机 B上的另一个存储库 R2中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">machineA$ cd R1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">machineA$ git bundle create file.bundle master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">machineA$ git tag -f lastR2bundle master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">machineB$ git clone -b master /home/me/tmp/file.bundle R2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-checkout">git checkout<a href="#git-checkout" class="hash-link" aria-label="git checkout的直接链接" title="git checkout的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">切换本地分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">切换远程分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b &lt;localBranchName&gt; origin/&lt;remoteBranchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">放弃所有工作区的修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout . </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">放弃对指定文件的修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -- &lt;fileName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">放弃工作区和暂存区的所有修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取文件 &lt;fileName&gt; 在 &lt;commitId&gt; 版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;commitId&gt; &lt;fileName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在当前分支上 取出 &lt;tagName&gt; 的版本 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;tagName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">放弃当前对文件 &lt;fileName&gt; 的修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout master &lt;fileName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">快速切换到上一个分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-cherry-pick">git cherry-pick<a href="#git-cherry-pick" class="hash-link" aria-label="git cherry-pick的直接链接" title="git cherry-pick的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">这个是复制一次 commit 提交，然后在当前分支上重新提交一遍；也就是将指定 commit 的合并到当前分支；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git cherry-pick &lt;commitId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">终止 cherry-pick</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git cherry-pick --abort</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-clean">git clean<a href="#git-clean" class="hash-link" aria-label="git clean的直接链接" title="git clean的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">清理工作目录中的未跟踪文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clean -f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看工作目录中的未跟踪文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clean -n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除某个特定目录下的未跟踪文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clean -f path/to/your/directory</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-clone">git clone<a href="#git-clone" class="hash-link" aria-label="git clone的直接链接" title="git clone的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">克隆仓库到本地</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;repoUrl&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">克隆仓库到本地指定目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;repoUrl&gt; &lt;localDir&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">指定分支进行克隆仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone -b &lt;branchName&gt; https://iewiewiew:password@gitee.com/iewiewiew/wei-notebook.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Git 只会下载指定分支的代码和提交记录，而不会下载其他分支的代码和提交记录，这可以有效减少克隆代码所需的时间和磁盘空间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone --single-branch -b master &lt;repoUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">指定克隆深度进行克隆仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone --depth &lt;nums&gt; https://iewiewiew:password@gitee.com/iewiewiew/wei-notebook.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone -b master 和 git clone --single-branch -b master 的区别</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone -b master 命令会克隆指定分支（这里是 master 分支）的所有提交记录，包括该分支的所有历史记录和其他分支的提交记录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone --single-branch -b master 命令则只会克隆指定分支的所有提交记录，而不会克隆其他分支的提交记录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将浅层存储库转换为完整存储库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull --unshallow 或者 git fetch --unshallow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">或者修改 .git/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config remote.origin.fetch &quot;+refs/heads/*:refs/remotes/origin/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">克隆版本库远程主机自动被 Git 命名为 origin，如果想用其他的主机名，git clone 命令的 -o 选项指定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone -o &lt;hostName&gt; &lt;repoUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用账号密码进行克隆仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://${username}:${password}@${host}/${repoPath}.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://iewiewiew:password@gitee.com/iewiewiew/wei-notebook.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone --verbose 是用于克隆 Git 代码仓库的命令，其中 --verbose 是一个选项，用于显示详细的输出信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone --verbose https://${username}:${password}@${host}/${repoPath}.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-commit">git commit<a href="#git-commit" class="hash-link" aria-label="git commit的直接链接" title="git commit的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">将暂存区内容提交到版本库，进入 vi 命令界面输入提交信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &#x27;commit info&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将 add 和commit 合为一步</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -am &#x27;commit info&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=git add -u + git commit -m &lt;message&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">合并上一次提交（用于反复修改），进入 vi 命令界面输入提交信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit --amend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">合并上一次提交（用于反复修改）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit --amend -m &#x27;commit info&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看分支的最新 commit_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat .git/refs/heads/master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-config">git config<a href="#git-config" class="hash-link" aria-label="git config的直接链接" title="git config的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看配置信息 注：不带参数的情况，等同于：带--local 参数，--local 仓库配置；--global 用户配置；--system 系统配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config -l  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config -l --local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config -l --global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config -l --system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">配置文件的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.git/config 文件：位于 git 目录的 config 文件，特定指向该单一的库，仅对当前仓库有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">~/.gitconfig 文件：具体到个人用户，此账户下所有的 Git 仓库都使用这个配置文件。可以通过传递 --global 选项使 Git 读或写这个特定的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/etc/gitconfig 文件：包含了适用于系统所有用户和所有仓库的值。如果你传递参数选项--system 给 git config，它将明确的读和写这个文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看仓库 config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat .git/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看用户 config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.gitconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看系统 config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /etc/gitconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config user.name                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看邮箱    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config user.email   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">编辑配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --edit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">编辑用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config user.name &quot;wmh&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">编辑邮箱</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config user.email &quot;666@qq.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --unset user.name </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除邮箱</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --unset user.email </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">无需每次都输入密码，输入密码后执行下面代码就可以了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global credential.helper store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global credential.helper --replace-all store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global credential.helperselector.selected manager-core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">可用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global credential.helper store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.name &quot;1425615649@qq.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.password &quot;password&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这一步会在用户目录下的 .gitconfig 文件最后添加：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[credential]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    helper = store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.gitconfig    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --show-origin --get credential.helper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">待定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim ~/.git-credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 输入以下内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://{username}:{password}@github.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改密码，如果账号密码有变动 用这个命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --system --unset credential.helper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重新输入账号密码应该就能解决了，如果用了第一个命令 还不能解决问题那么 用这个命令：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global http.emptyAuth true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">设置为区分大小写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config core.ignorecase false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">移除代理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global --unset http.proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git status 等命令自动着色</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global color.ui true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global color.status auto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global color.diff auto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global color.branch auto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global color.interactive auto</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-diff">git diff<a href="#git-diff" class="hash-link" aria-label="git diff的直接链接" title="git diff的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看具体修改了什么地方，尚未缓存的改动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示摘要而非整个 diff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff --stat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看已缓存的改动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff --cached</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看本地和远程分支的差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff remotes/origin/master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看已缓存的与未缓存的所有改动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看当前分支和指定分支的差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff ..&lt;branch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff ..master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看两个分支之间的详细差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff &lt;first branch&gt; &lt;second branch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff develop master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff develop..master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff develop...master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看两个分支之间差异的部分=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff &lt;first branch&gt; &lt;second branch&gt; --stat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff develop...master --stat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将输出重定向到文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff develop master &gt; diffFile.diff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff commit1 commit2 &gt; patchfile.patch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">待定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git --no-pager diff develop...master --stat </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看指定文件的详细差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff &lt;first branch&gt; &lt;second branch&gt; &lt;文件路径&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff develop...master README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看两个 commit 分支之间的差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff &lt;commit1&gt; &lt;commit2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看今天写了多少行代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git diff --shortstat &quot;@{0 day ago}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-fetch">git fetch<a href="#git-fetch" class="hash-link" aria-label="git fetch的直接链接" title="git fetch的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">将某个远程主机的更新，全部取回本地</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch &lt;hostName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">只取回远程主机特定分支的更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch &lt;hostName&gt; &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取回 origin 主机的 master 分支更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch origin master </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取所有分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch -pv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">抛弃本地所有的修改，回到远程仓库的状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --all &amp;&amp; git reset --hard origin/master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重设第一个 commit，把所有的改动都重新放回工作区，并清空所有的 commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git update-ref -d HEAD</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-fsck">git fsck<a href="#git-fsck" class="hash-link" aria-label="git fsck的直接链接" title="git fsck的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git fsck</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检查整个仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fsck 命令用于检查 Git 仓库的完整性。它会执行一系列检查，以确保仓库中的对象(提交、树、blob等)之间的引用关系是正确的，并且所有对象都可以被访问到。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检查特定的提交:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fsck &lt;commit-hash&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检查未引用的对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fsck --unreachable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示更多详细信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fsck --full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">找出悬空 blob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fsck --unreachable | grep &quot;^blob^&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检查引用日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reflog expire --expire=now --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除悬空 blob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git prune --expire now</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-gc">git gc<a href="#git-gc" class="hash-link" aria-label="git gc的直接链接" title="git gc的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git gc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git gc --auto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看文件大小</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git count-objects -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看占用空间最多的五个文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --objects --all | grep &quot;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -5 | awk &#x27;{print$1}&#x27;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">根据文件 id 查看文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --objects --all | grep 8f10eff91bb6aa2de1f5d096ee2e1687b0eab007</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除.git 的大文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git filter-branch --force --index-filter &quot;git rm --cached --ignore-unmatch &#x27;&lt;fileName&gt;&#x27;&quot; --prune-empty --tag-name-filter cat -- --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf .git/refs/original/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reflog expire --expire=now --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fsck --full --unreachable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git repack -A -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git gc --aggressive --prune=now</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">执行仓库压缩</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git gc --prune=now</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin --force --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Git 把文件存储在 .git/objects 之中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find .git/objects/ -type f | wc -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-init">git init<a href="#git-init" class="hash-link" aria-label="git init的直接链接" title="git init的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">使用当前仓库进行初始化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在指定目录创建一个空的 Git 仓库，运行这个命令会创建一个名为 demo，只包含 .git 子目录的空目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git init --bare demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用模板创建仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git init --bare demo --template=&lt;template_repo_dir&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-log">git log<a href="#git-log" class="hash-link" aria-label="git log的直接链接" title="git log的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">显示所有 commit 日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将日志缩写为单行显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --pretty=oneline </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">图示提交日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --pretty=format:&#x27;%h %s&#x27; --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">展示简化的 commit 历史</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --pretty=oneline --graph --decorate --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看分支合并情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline --graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline master..release    # 查看两个分支之间的 commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline --graph README.md  # 查看指定文件 log，似乎没有用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看分叉历史，包括：提交历史、各个分支的指向以及项目的分支分叉情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline --decorate --graph --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看分支合并情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --pretty=oneline --graph --abbrev-commit         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示提交日志及相关变动文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --stat </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看最新3条 commit 日志数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log -3 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">不知道这是干啥的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log -p -m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">打印出某个用户的提交记录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --author=&quot;wmh&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示操作本地版本库的命令，包括 commit 和reset 等</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reflog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">降序排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --reverse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看特定分支测试用例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --reverse &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">打印出 PR 的 commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --merges --pretty=format:&quot;%h - %an，%ar : %s&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">最近1周</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --merges --since=&quot;2 weeks ago&quot; --pretty=format:&quot;%h - %an，%ar : %s&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">最近10个</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --merges -n 10 --pretty=format:&quot;%h - %an，%ar : %s&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-pull">git pull<a href="#git-pull" class="hash-link" aria-label="git pull的直接链接" title="git pull的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">取回远程主机某个分支的更新，再与本地的指定分支合并</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull &lt;hostName&gt; &lt;branchName&gt;:&lt;localBranchName&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取回 origin 主机的 master 分支，与本地的 dev 分支合并</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull origin master:dev </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取回 origin/master 分支，再与当前分支合并</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull origin master </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">上一条命令实质上等同于先 git fetch，再 git merge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge origin/master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-push">git push<a href="#git-push" class="hash-link" aria-label="git push的直接链接" title="git push的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">上传本地指定分支到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push &lt;hostName&gt; &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">强行推送当前分支到远程仓库，即使有冲突</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push &lt;hostName&gt; --force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送所有分支到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push &lt;hostName&gt; --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用账号密码进行 push 注：账号密码中的@需要用%40替换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f https://&lt;username&gt;:&lt;password&gt;@gitee.com/iewiewiew/wei-demo-001.git main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f https://username%40demo.com:123456@gitee.com/iewiewiew/wei-demo-001.git main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">以镜像的方式传到远程仓库（用于将本地仓库的所有分支和标签推送到远程仓库，并且保持远程仓库与本地仓库完全一致）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push --mirror git@gitee.com/path/to/path/new_project_name.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-rebase">git rebase<a href="#git-rebase" class="hash-link" aria-label="git rebase的直接链接" title="git rebase的直接链接">​</a></h3><p>@todo git 压缩历史指定区间提交记录</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-remote">git remote<a href="#git-remote" class="hash-link" aria-label="git remote的直接链接" title="git remote的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">添加远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote add origin git@gitee.com:iewiewiew/wei-notebook.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -u origin master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看所有远程主机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看远程主机的网址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看该主机的详细信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote show origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote rm origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改远程主机名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote rename &lt;oldHostName&gt; &lt;newHostName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改远程仓库的 URL 地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote set-url &lt;hostName&gt; &lt;newRepoUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git prune 的作用是：用户在服务端删分支 dev，本地仓库中仍然存在远端分支 dev 的信息，则 git prune 会把远端存在本地的信息删除。也就是刷新本地仓库与远程仓库的保持这些改动的同步。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">从对象数据库中删除所有不可访问的对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote prune origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">演习将要删除的对象，实际上并不会删除</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote prune -n origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看远端分支情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote show origin </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-reset">git reset<a href="#git-reset" class="hash-link" aria-label="git reset的直接链接" title="git reset的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HEAD 表示当前版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD^ 上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD^^ 上上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD^^^ 上上上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD~0 表示当前版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD~1 上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD^2 上上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD^3 上上上一个版本</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>撤销 add</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">撤销所有 add 文件 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset HEAD . </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">撤销单个 add 文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset HEAD -filename </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>撤销 commit</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看提交记录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">不删除工作区改动的代码，撤销 commit，不撤销 git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --soft &lt;commit&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">回到上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --soft HEAD^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">不删除工作区改动的代码，撤销 commit，撤销 git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --mixed &lt;commit&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">回到上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --mixed HEAD^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除工作区的代码，撤销 commit，撤销 git add . 回到上一次 commit 的状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --hard &lt;commit&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">回到上一个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --hard HEAD^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">回到上两个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --hard HEAD^^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将历史提交合并为一个</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --soft &lt;第一个 commit 的 id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit --amend -m &quot;提交代码&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>撤销 commit （已经 push）</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看提交记录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --hard &lt;commit 版本号&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">完成撤销，同时将代码恢复到前一 commit_id 对应的版本 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt; --force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">要加上 force 不然会提示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error: failed to push some refs to &#x27;地址&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hint: Updates were rejected because the tip of your current branch is behind</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-revert">git revert<a href="#git-revert" class="hash-link" aria-label="git revert的直接链接" title="git revert的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">原理： git revert 是用于“反做”某一个版本，以达到撤销该版本的修改的目的。比如，我们 commit 了三个版本（版本一、版本二、 版本三），突然发现版本二不行（如：有 bug），想要撤销版本二，但又不想影响撤销版本三的提交，就可以用 git revert 命令来反做版本二，生成新的版本四，这个版本四里会保留版本三的东西，但撤销了版本二的东西。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看版本号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --pretty=oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">撤销某一个提交 git revert -n &lt;版本号&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注意：这里可能会出现冲突，那么需要手动修改冲突的文件。而且要 git add 文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">撤销最后一个提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git revert HRAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用于继续未完成的撤销操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git revert --continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">撤销多个提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git revert &lt;commit1&gt; &lt;commit2&gt; ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">跳过此补丁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git revert --skip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取消反转提交操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git revert --abort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">工具方式：在 IDEA 的 Git 菜单的某条 commit 记录右键，选择 Revert Commit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-rm">git rm<a href="#git-rm" class="hash-link" aria-label="git rm的直接链接" title="git rm的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">删除工作区文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rm -f &lt;file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rm -f &lt;file1&gt; &lt;file2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">停止追踪指定文件，但该文件会保留在工作区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rm --cached &lt;file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除所有 Git 跟踪的文件和文件夹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rm -r --cached .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除所有未跟踪的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clean -df</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-show">git show<a href="#git-show" class="hash-link" aria-label="git show的直接链接" title="git show的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">显示某个提交的详细内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show dfb02e6e4f2f7b573337763e5c0013802e392818</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示 HEAD 提交日志                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show HEAD                                             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示 HEAD 的父（上一个版本）的提交日志 ^^为上两个版本 ^5为上5个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show HEAD^     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示上5个版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show HEAD@{5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示 master 分支昨天的状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show master@{yesterday} </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示某次提交的元数据和内容变化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show &lt;commit-id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示某次提交发生变化的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show --name-only &lt;commit-id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示某次提交时，某个文件的内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show &lt;commit-id&gt;:&lt;filename&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-stash">git stash<a href="#git-stash" class="hash-link" aria-label="git stash的直接链接" title="git stash的直接链接">​</a></h3><ol><li>stash 的原理：将本地没提交的内容(git commit 的内容不会被缓存，但 git add 的内容会被缓存)进行缓存并从当前分支移除，缓存的数据结构为堆栈，先进后出。  </li><li>场景：在 A分支修改文件，但不想 commit，使用 git stash，git checkout B 分支之后，修改的文件并不会带到 B分支，再 git checkout A 分支，使用 git stash pop 找出来。</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stash 的参数详解：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git stash 与git stash save 是一样的，将没有提交的内容缓存并移除，而这条缓存名称为最新一次提交的 commit -m 的内容，如果没有本地提交则是拉远程仓库是的 commit 内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash save &quot;xxx&quot;：加上自己的注解进行缓存。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash list：返回缓存的列表。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash pop：将堆栈中最新的内容 pop 出来应用到当前分支上，且会删除堆中的记录。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash drop [名]：删除单个缓存 举例 git stash drop stash@{0}。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash clear：全清。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash show [名]：显示与当前分支差异 举例 git stash show stash@{0} 加上-p 可以看详细差异。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- git stash branch：指定或最新缓存创建分支。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-status">git status<a href="#git-status" class="hash-link" aria-label="git status的直接链接" title="git status的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">检查当前文件状态输出十分详细</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">简短输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git status -s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-submodule">git submodule<a href="#git-submodule" class="hash-link" aria-label="git submodule的直接链接" title="git submodule的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">主模块名称：sub_main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">子模块名称：sub_son</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://gitee.com/xxx/sub_main.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd sub_main 执行：git submodule add https://gitee.com/xxx/sub_son.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">添加子模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule add git@gitee.com:hightest/wei-demo-001.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule add git@gitee.com:hightest/wei-demo-001.git ./sub001  # 指定目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">添加本地仓库为子模块 注：未实践成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule add /path/to/local-repo submodules/local-repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">初始化子模块 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">对子模块获取远程项目中最新的状态    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update --remote &lt;submodule-name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在此命令中，&lt;submodule-name&gt; 是要更新的子模块的名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">更新所有子模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update --remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">自动初始化并更新仓库中的每一个子模块， 包括可能存在的嵌套子模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone --recurse-submodules https://gitee.com/xxx/sub_main.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将 git submodule init 和git submodule update 合并成一步</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update --init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果还要初始化、抓取并检出任何嵌套的子模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update --init --recursive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">添加子模块后会生成 .gitmodules 文件，文件内容如下：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[submodule &quot;sub001&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path = sub001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = git@gitee.com:hightest/wei-demo-001.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[submodule &quot;sub002&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path = sub002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = ../wei-demo-001.git  # 相对路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除子模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule deinit &lt;子模块路径&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule deinit submodules/local-repo  # 这将取消初始化子模块，但不会删除子模块的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rm submodules/local-repo    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-subtree">git subtree<a href="#git-subtree" class="hash-link" aria-label="git subtree的直接链接" title="git subtree的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git subtree 相关命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree add   --prefix=&lt;prefix&gt; &lt;commit&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree add   --prefix=&lt;prefix&gt; &lt;repository&gt; &lt;ref&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree pull  --prefix=&lt;prefix&gt; &lt;repository&gt; &lt;ref&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree push  --prefix=&lt;prefix&gt; &lt;repository&gt; &lt;ref&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree merge --prefix=&lt;prefix&gt; &lt;commit&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree split --prefix=&lt;prefix&gt; [OPTIONS] [&lt;commit&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在父仓库中添加子模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree add --prefix=foo https://github.com/demo/foo.git master --squash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">解释：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--squash 是将 subtree 的改动合并到一个 commit，不用拉取子模块完整的历史纪录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这里 --prefix 后面的 = 也可以使用空格，注意这里的 foo 就是项目克隆后在本地的目录名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">命令中的 master 指的是 subtree 项目的分支名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">可以使用 git status 和 git log 查看提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">更新子模块仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree pull --prefix=foo https://github.com/demo/foo.git master --squash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将更改推送到子模块仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git subtree push --prefix=foo https://github.com/demo/foo.git master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-tag">git tag<a href="#git-tag" class="hash-link" aria-label="git tag的直接链接" title="git tag的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看本地 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看本地 tag，并展示详细信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag -n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看所有远程 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-remote --tags origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 tag 信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show &lt;tagName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 tag 日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log &lt;tagName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检出 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b &lt;branchName&gt; &lt;tagName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag -a &lt;tagName&gt; -m &quot;create tag&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送 tag 到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin &lt;tagName&gt;               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送所有 tag 到远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin --tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">拉取所有 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除本地 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag -d &lt;tagName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除本地所有 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag -l | xargs git tag -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除远程 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin :refs/tags/&lt;tagName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除远程所有 tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-remote --tags origin | awk &#x27;{print &quot;:&quot; $2}&#x27; | xargs git push origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除远程所有 tag，排除包含 `^{}` 的标签，以避免错误的引用规格</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-remote --tags origin | awk &#x27;{print &quot;:&quot; $2}&#x27; | grep -v &#x27;\^{}&#x27; | xargs git push origin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-ls-remote">git ls-remote<a href="#git-ls-remote" class="hash-link" aria-label="git ls-remote的直接链接" title="git ls-remote的直接链接">​</a></h3><p>git ls-remote 作用</p><ul><li>显示远程引用：git ls-remote 将显示远程仓库中的所有引用。这包括远程分支（remote branches）、标签（tags）和其他引用。它会列出引用的 SHA 值（提交的唯一标识符）和它们的名称。</li><li>获取远程分支列表：通过运行 git ls-remote 加上远程仓库的 URL，可以获取远程仓库中所有分支的列表。</li><li>检查标签信息：使用 git ls-remote，可以查看远程仓库中的标签信息。它将显示标签的 SHA 值和名称。</li><li>获取引用的 SHA 值：通过运行 git ls-remote 并指定特定的引用名称，可以获取该引用的 SHA 值。</li></ul><p>设置 GIT_CURL_VERBOSE 环境变量为 1：GIT_CURL_VERBOSE=1 git ls-remote。Git 将在执行 ls-remote 操作时输出与远程仓库之间的所有交互信息，包括请求和响应的详细内容。<br>
<!-- -->注意：GIT_CURL_VERBOSE 只对使用基于 cURL 库的 Git 协议（例如 HTTPS）进行通信的情况有效。如果使用其他协议，如 SSH，它可能不会产生任何输出。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">计算 git ls-remote命令的输出的SHA-256 哈希值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-remote | sha256sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-remote https://gitee.com/mirrors/git.git | sha256sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-for-each-ref">git for-each-ref<a href="#git-for-each-ref" class="hash-link" aria-label="git for-each-ref的直接链接" title="git for-each-ref的直接链接">​</a></h3><p>git for-each-ref 是一个 Git 命令，用于遍历和显示引用（references）本地仓库的信息。引用可以是分支（branches）、标签（tags）、远程分支（remote branches）或其他引用。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git for-each-ref</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git for-each-ref | sha256sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git for-each-ref --format=&#x27;%(refname:short) %(objectname:short)&#x27; refs/heads/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other">other<a href="#other" class="hash-link" aria-label="other的直接链接" title="other的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看提交信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git cat-file -p &lt;错误信息 ID&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看提交信息 -p &lt;分支名称&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git cat-file -p master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看使用了多少空间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git count-objects -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 refs 文件夹存储信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git show-ref --head --dereference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">内部命令：显示某个 git 对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-tree HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">内部命令：显示某个 ref 对于的 SHA1 HASH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-parse master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示指定文件是什么人在什么时间修改过</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git blame &lt;file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看暂存区中的文件列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">只统计项目代码的总行数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files | xargs cat | wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">统计项目代码的总行数并展示文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files | xargs wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">仅复制交给 git 管理的文件(不包含中文文件)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files | xargs -I {} rsync -R &quot;{}&quot; /Users/menghuawei/IdeaProjects/my-project/iewiewiew.github.io/my-website/docs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">仅复制交给 git 管理的文件(包含中文文件)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files -z | xargs -0 -I {} rsync -R &quot;{}&quot; /Users/menghuawei/IdeaProjects/my-project/iewiewiew.github.io/my-website/docs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">放弃本地修改，使用远程仓库代码强制覆盖本地命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git reset --hard origin/master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">当 master 代码改动了，需要更新开发分支（dev）上的代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -u origin dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看.git 目录结构</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find .git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看某段代码是谁写的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git blame &lt;file-name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看两个星期内的改动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git whatchanged --since=&#x27;2 weeks ago&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">展示所有 tracked 的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files -t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">展示所有 untracked 的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files --others</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">展示所有忽略的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files --others -i --exclude-standard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Git 某个分支下的提交数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --count &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --count master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出所有分支的所有提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出指定分支的所有提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list &lt;branch-name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出 commit-a 到 commit-b 之间的所有提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list commit-a..commit-b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出最近 3 次提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list HEAD~3..HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出某个文件的提交历史</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list HEAD -- path/to/file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list HEAD -- README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出某个目录下所有文件的提交历史</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list HEAD -- path/to/directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出项目的根提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log $(git rev-list --max-parents=0 HEAD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Git 某个分支下的文件数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-tree -r &lt;branchName&gt; --name-only | wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-tree -r master --name-only | wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Git 某个分支下的贡献者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git shortlog -s &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git shortlog -s master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Git 某个分支下的贡献者排名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git shortlog -s -n &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git shortlog -s -n master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Git 仓库下的代码行数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --pretty=tformat: --numstat | awk &#x27;{ add += $1; subs += $2; loc += $1 - $2 } END {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;added lines: %s，removed lines: %s，total lines: %s\n&quot;，add，subs，loc }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 Git 仓库下的代码行数 指定时间段和作者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --since =2023-01-01 --until==2023-12-31 --author=&quot;name&quot; --pretty=tformat: --numstat | awk &#x27;{ add += $1; subs += $2; loc += $1 - $2 } END { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;added lines: %s，removed lines: %s，total lines: %s\n&quot;，add，subs，loc }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">批量移除仓库已有的 .DS_Store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -name .DS_Store -type f -delete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">要统计某个 Git 仓库中交给 Git 管理的文件大小</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git ls-files -z | xargs -0 du -ch | tail -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">要统计某个 Git 仓库中交给 Git 管理的文件大小前十名文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --objects --all | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  git cat-file --batch-check=&#x27;%(objecttype) %(objectname) %(objectsize) %(rest)&#x27; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  awk &#x27;/^blob/ {print $3, $4}&#x27; | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sort -nr | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  head -n 10 | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  numfmt --to=iec --field=1 --suffix=B</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-git-知识碎片">4. Git 知识碎片<a href="#4-git-知识碎片" class="hash-link" aria-label="4. Git 知识碎片的直接链接" title="4. Git 知识碎片的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用操作">常用操作<a href="#常用操作" class="hash-link" aria-label="常用操作的直接链接" title="常用操作的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="克隆仓库再推到远程">克隆仓库再推到远程<a href="#克隆仓库再推到远程" class="hash-link" aria-label="克隆仓库再推到远程的直接链接" title="克隆仓库再推到远程的直接链接">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">克隆仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone git@example.com:testent001/test_repo.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;branchName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">克隆仓库（一行命令）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --all &amp;&amp; git branch -r | grep -v &#x27;\-&gt;&#x27; | while read remote; do git checkout --track $remote; done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">推送远程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote add origin_new git@example.com:testent001/test_repo2.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f origin_new --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">本地分支关联远程分支（可不执行）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -u origin_new master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除 remote（可不执行）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote remove &lt;remoteName&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="制造冲突">制造冲突<a href="#制造冲突" class="hash-link" aria-label="制造冲突的直接链接" title="制造冲突的直接链接">​</a></h4><p>在页面新增分支(起点 Master) branch1，添加 test.txt 文件，内容为：11
在页面新增分支(起点 Master) branch2，添加 test.txt 文件，内容为：22</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;remoteUrl&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout branch1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge origin/branch2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim test.txt 解决冲突</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit 按 enter，出现编辑框，内容：Merge remote-tracking branch &#x27;origin/branch2&#x27; into branch1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:wq! 保存提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>解决本地和远程的冲突</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git checkout master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull https://gitee.com/test/test_repo_001.git branch_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="回退代码">回退代码<a href="#回退代码" class="hash-link" aria-label="回退代码的直接链接" title="回退代码的直接链接">​</a></h4><ol><li><p>查看 commits 记录：
git reflog</p></li><li><p>查看 commits 记录(详细)：
git log</p></li><li><p>撤销已经 push 的commit<br>
<!-- -->1、git log 拿到要回退的版本号：3d0c40d40074a2ba0c4756d7d1697983c398bd0f<br>
<!-- -->2、git reset –-soft &lt;版本号&gt; ，如 git reset --soft 3d0c40d40074a2ba0c4756d7d1697983c398bd0f ，重置至指定版本的提交，达到撤销提交的目的；回退本地代码：git reset --hard &lt;版本号&gt;<br>
<!-- -->3、git push origin master --force ，强制提交当前版本号<br>
<!-- -->问题：当我们有时候回滚了代码，想强制 push 到远程仓库的时候，git push origin --force，会报如下错误：You are not allowed to force push code to a protected branch on this project<br>
<!-- -->解决：如果用的是 gitlab 版本库，这说明 gitlab 对仓库启用了保护，需要在仓库中设置一下：进入项目 gitlab 网页版: 设置（setting）&gt; 版本库（repo）&gt; 保护分支（把保护的分支选择 unprotected）</p></li><li><p>合并 commit
git rebase 进行 git 压缩：git rebase -i HEAD~2 对最近的3个 commit 进行 rebase 操作<br>
<!-- -->对于 commit 合并可以使用 squash、fixup 指令，<br>
<!-- -->squash：将该 commit 的注释添加到上一个 commit 注释中<br>
<!-- -->fixup：是放弃当前 commit 的注释<br>
<!-- -->drop：删除当前 commit(drop 和fixup 的区别是啥？)  </p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="本地合并分支">本地合并分支<a href="#本地合并分支" class="hash-link" aria-label="本地合并分支的直接链接" title="本地合并分支的直接链接">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. 创建一个文件并提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Initial commit on main branch&quot; &gt; file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Initial commit on master branch&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 创建 squash-base 分支并提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b squash-base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;This is a change in squash-base.&quot; &gt; file1.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add file1.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Add file1.txt in squash-base&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 切换到 master 分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. 创建 squash-head 分支并提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b squash-head</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;This is a change in squash-head.&quot; &gt; file2.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add file2.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Add file2.txt in squash-head&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. 合并，用 --no-ff 选项来进行合并，这样会创建一个合并提交，并且保留合并信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout squash-head</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge --no-ff squash-base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">产生日志：Merge branch &#x27;squash-base&#x27; into squash-head</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. 查看日志（可不执行）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. 其它，推送所有本地分支到远程（可不执行）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f --all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="本地和远程连通检验">本地和远程连通检验<a href="#本地和远程连通检验" class="hash-link" aria-label="本地和远程连通检验的直接链接" title="本地和远程连通检验的直接链接">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -T gitee.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh -vvT gitee.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">端口默认 22，如果不是则需 -p 指定端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh -p 22 -T gitee.com   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题">常见问题<a href="#常见问题" class="hash-link" aria-label="常见问题的直接链接" title="常见问题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-https-和-git-ssh-的区别">git https 和 git ssh 的区别<a href="#git-https-和-git-ssh-的区别" class="hash-link" aria-label="git https 和 git ssh 的区别的直接链接" title="git https 和 git ssh 的区别的直接链接">​</a></h4><ol><li>https</li></ol><ul><li>clone 项目：使用 https 方式时，没有要求，可以直接克隆下来</li><li>push 项目：使用 https 方式时，需要验证用户名和密码</li><li>端口：一般使用 443 端口</li><li>安全：通过用户名/密码授权，可用性比较高</li><li>速度：速度相较快点，一般企业防火墙会打开 80 和 443 这两个 http/https 协议的端口，很方便；而对于 ssh 来说，企业防火墙很可能没打开 22 端口</li><li>总结：https 利于匿名访问，适合开源项目，可以方便被别人克隆和读取(但没有 push 权限)</li></ul><ol start="2"><li>ssh</li></ol><ul><li>clone 项目：使用 ssh 方式时，需要配置 ssh key，即要将生成的 ssh 密钥对的公钥上传至服务器</li><li>push 项目：使用 ssh 方式时，不需要验证用户名和密码，之前配置过 ssh key，(如果你没设置密码) 直接 push 即可</li><li>端口：一般使用 22 端口</li><li>速度：速度相较慢点</li><li>总结：ssh 不利于匿名访问，比较适合内部项目，只要配置了 ssh 公钥极可自由实现 clone 和 push 操作</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-fetch-和-git-pull-的区别">git fetch 和 git pull 的区别<a href="#git-fetch-和-git-pull-的区别" class="hash-link" aria-label="git fetch 和 git pull 的区别的直接链接" title="git fetch 和 git pull 的区别的直接链接">​</a></h4><ol><li><p>相同点
首先在作用上他们的功能是大致相同的，都是起到了更新代码的作用。</p></li><li><p>不同点</p></li></ol><ul><li>git fetch：git fetch 会将数据拉取到本地仓库，它并不会自动合并或修改当前的工作。 </li><li>git pull：git pull 是从远程获取最新版本并 merge 到本地，会自动合并或修改当前的工作。git pull = git fetch + git merge。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-rebase-和-git-merge-的区别">git rebase 和 git merge 的区别<a href="#git-rebase-和-git-merge-的区别" class="hash-link" aria-label="git rebase 和 git merge 的区别的直接链接" title="git rebase 和 git merge 的区别的直接链接">​</a></h4><ol><li>rebase 会把你当前分支的 commit 放到公共分支的最后面，所以叫变基。就好像你从公共分支又重新拉出来这个分支一样。
举例：如果你从 master 拉了个 feature 分支出来，然后你提交了几个 commit，这个时候刚好有人把他开发的东西合并到 master 了，这个时候 master 就比你拉分支的时候多了几个 commit，如果这个时候你 rebase master 的话，就会把你当前的几个 commit，放到那个人 commit 的后面。</li><li>merge 会把公共分支和你当前的 commit 合并在一起，形成一个新的 commit 提交。
使用场景：<br>个人开发，拉公共分支最新代码的时候使用 rebase，好处是提交记录会比较简洁，缺点就是 rebase 以后不知道当前分支最早是从哪个分支拉出来的。<br>团队开发，往公共分支上合代码的时候，使用 merge。但无论个人开发还是团队开发建议还是用 merge。  </li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cherry-pick-的-fast-forwardnon-fast-forward-的区别">cherry pick 的 fast forward、non-fast forward 的区别<a href="#cherry-pick-的-fast-forwardnon-fast-forward-的区别" class="hash-link" aria-label="cherry pick 的 fast forward、non-fast forward 的区别的直接链接" title="cherry pick 的 fast forward、non-fast forward 的区别的直接链接">​</a></h4><ol><li>Fast-forward 合并：使用 git cherry-pick 时，如果要合并的提交在当前分支的提交历史中是连续的，没有其他提交插入其中，那么 Git 会执行一个快进(fast-forward)合并。 这意味着 Git 只需要简单地将当前分支的 HEAD 指针移动到要合并的提交上，不需要创建新的合并提交。</li><li>Non-fast-forward 合并：如果要合并的提交不在当前分支的提交历史中，也就是说在合并过程中需要创建一个新的合并提交，那么 Git 会执行一个非快进(non-fast-forward)合并。 这意味着 Git 需要创建一个新的合并提交，将要合并的提交合并到当前分支上。</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-branch---show-current-和-git-branch-的区别">git branch --show-current 和 git branch 的区别<a href="#git-branch---show-current-和-git-branch-的区别" class="hash-link" aria-label="git branch --show-current 和 git branch 的区别的直接链接" title="git branch --show-current 和 git branch 的区别的直接链接">​</a></h4><p>git branch --show-current 和 git branch 是 Git 命令中用于查看当前分支和分支列表的两个不同命令。</p><ol><li>git branch --show-current：该命令用于显示当前所在的分支名称。它是 Git 2.22 版本引入的新命令。执行该命令会输出当前所在分支的名称，例如 &quot;main&quot;、&quot;develop&quot; 或其他分支名称。如果当前没有分支或者不在任何分支上，则不会输出任何结果。</li><li>git branch：该命令用于列出所有分支的列表。执行该命令会显示本地仓库中所有的分支名称，并在当前分支前面添加一个星号 (*) 标记。被标记的分支即为当前所在的分支。
git branch --show-current 有分支 master，git branch 无分支，添加或者修改文件，执行 git add .，git commit -m &quot;123&quot; 即可。</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="合并分支扁平化分支变基并合并的区别">合并分支、扁平化分支、变基并合并的区别<a href="#合并分支扁平化分支变基并合并的区别" class="hash-link" aria-label="合并分支、扁平化分支、变基并合并的区别的直接链接" title="合并分支、扁平化分支、变基并合并的区别的直接链接">​</a></h4><ol><li>合并分支（Merge）
合并分支是指将一个分支的更改合并到另一个分支中。这通常是在开发一个功能或修复一个 bug 时使用的。合并分支会将源分支中的提交应用到目标分支中，并创建一个新的合并提交，将两个分支的历史记录合并在一起。使用 Git 命令 <code>git merge</code> 即可实现合并分支。</li><li>扁平化分支（Squash）
扁平化分支是指将一个分支的多个提交压缩成一个提交。这通常是在提交一个功能或修复一个 bug 的最终版本时使用的。扁平化分支可以使提交历史记录更加简洁，减少噪音。使用 Git 命令 <code>git merge --squash</code> 可以将一个分支的多个提交压缩成一个提交。</li><li>变基并合并（Rebase and Merge）
变基并合并是指将一个分支上的提交应用到另一个分支上，但是与合并分支不同的是，它会将源分支的提交“重放”到目标分支上。这样可以在目标分支上形成一条干净的提交历史记录，但也可能会带来一些风险，因为它会改变提交的顺序和 SHA-1 值。使用 Git 命令 <code>git rebase</code> 可以对源分支进行变基操作，然后再使用 <code>git merge</code> 将源分支合并到目标分支。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-拓展">git 拓展<a href="#git-拓展" class="hash-link" aria-label="git 拓展的直接链接" title="git 拓展的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-炸弹">git 炸弹<a href="#git-炸弹" class="hash-link" aria-label="git 炸弹的直接链接" title="git 炸弹的直接链接">​</a></h4><p><a href="https://juejin.cn/post/7143544167178698783" target="_blank" rel="noopener noreferrer">什么是 Git 炸弹(git bomb)？</a>
<a href="https://github.com/Katee/git-bomb" target="_blank" rel="noopener noreferrer">示例仓库 git-bomb</a></p><p>Git 炸弹：指一个 git 仓库，.git 目录很小，但是 checkout 工作区会占据很大的磁盘空间。大体原理小文件大量地重复引用，git checkout 的时候复制出海量小文件，从而占据大量磁盘空间，导致当前机器磁盘被占满。
描述：git 炸弹检测页面提示（同一个文件内容被引用到很多文件中，检出时占据大量磁盘空间，可能会导致客户端磁盘占满）</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-lfs">git LFS<a href="#git-lfs" class="hash-link" aria-label="git LFS的直接链接" title="git LFS的直接链接">​</a></h4><p>代码托管支持 Git LFS（Large File Storage，大文件存储）协议，可以把音乐、图片、视频等指定的任意大文件资源存储在 Git 仓库之外，对于使用者而言，类似在操作一个完整的 Git 仓库，非常方便。通过将大文件存储在 Git 原有的数据结构之中，可以减小 Git 仓库本身的体积，使克隆 Git 仓库的速度加快，也使得 Git 不会因为仓库中充满大文件而损失性能。
当您要上传的文件单个超过200M 时，需要使用 Git LFS。
<a href="https://git-lfs.com/" target="_blank" rel="noopener noreferrer">git-lfs 官网</a>
<a href="https://gitee.com/git-lfs/git-lfs/wiki/Installation" target="_blank" rel="noopener noreferrer">git-lfs 安装教程</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Mac 安装 lfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.giteeusercontent.com/Homebrew/install/master/install)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install git-lfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux 安装 lfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://gitee.com/git-lfs/git-lfs/releases/tag/v3.3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">下载安装包之后进行解压，执行：./install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">进入仓库进行 lfs 初始化，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取消 LFS 的全局配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs uninstall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在~/.gitconfig 自动新增如下配置，查看 cat ~/.gitconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[filter &quot;lfs&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        required = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        clean = git-lfs clean -- %f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        smudge = git-lfs smudge -- %f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        process = git-lfs filter-process</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">追踪所有后缀名为&quot;.psd&quot;的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs track &quot;*.psd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">追踪单个文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs track &quot;logo.png&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看已追踪的文件，可以通过 git lfs track，或通过查看&quot;.gitattributes&quot;文件，获取详情</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs track</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">取消追踪文件(注：需要双引号)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs untrack &quot;*.extension&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git rm --cached &quot;*.extension&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add . &amp;&amp; git commit -m &quot;test&quot; &amp;&amp; git push -f origin master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">例子</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs untrack &quot;logo.png&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs --cached &quot;logo.png&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">提交大文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">提交代码时需要将&quot;.gitattributes&quot;文件也提交到仓库，提交完成后，执行 git lfs ls-files 命令可以查看 LFS 跟踪的文件列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用 命令克隆包含&quot;Git LFS”文件的远程仓库到本地</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果一个仓库中包含 LFS 内容，但是在推送时不想推送这类文件，只要加上 --no-verify 选项就行，即：git push --no-verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">迁移已有的 git 仓库使用 git lfs 管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重写 master 分支，将历史提交中的 *.zip 都用 git lfs 进行管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs migrate import --include-ref=master --include=&quot;*.zip&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">重写所有分支及标签，将历史提交中的 *.rar，*.zip 都用 git lfs 进行管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs migrate import --everything --include=&quot;*.rar，*.zip&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">手动同步</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">若 Gitee 的Git-LFS 自动同步不满足使用需求时，可以手动同步 Git-LFS 到Gitee 仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">以 https://huggingface.co/bert-base-uncased.git 为例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://huggingface.co/bert-base-uncased</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd bert-base-uncased</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs fetch --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs push https://gitee.com/&lt;your-gitee-repo-path&gt;.git --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">踩坑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">同步到码云报错：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、WARNING: Authentication error: Authentication required: LFS only supported repository in paid enterprise.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、batch response: LFS only supported repository in paid enterprise. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">解决1：git config lfs.https://gitee.com/{your_gitee}/{your_repo}.git/info/lfs.locksverify false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">解决2：rm .git/hooks/pre-push</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检查Git LFS对象的状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git lfs fsck</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>git lfs install --skip-smudge 是 Git LFS（Large File Storage）的安装命令，其中的 --skip-smudge 选项用于在安装 Git LFS 时跳过默认的清理过滤器设置。</p><p>在 Git LFS 中，清理过滤器（smudge filter）是用于在检出文件时自动替换指定的大文件（通常是二进制文件）为其指针的机制。这有助于减小仓库的体积，因为实际的大文件内容会被存储在 Git LFS 服务器上，而不是直接存储在 Git 仓库中。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-hooks">git Hooks<a href="#git-hooks" class="hash-link" aria-label="git Hooks的直接链接" title="git Hooks的直接链接">​</a></h4><p><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks" target="_blank" rel="noopener noreferrer">Git Hooks 简介</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pre-receive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">是部署在服务器的全局钩子，对提交的文件名，文件内容（grep），commit 信息进行处理。实现对提交的控制。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是在更新推送的引用之前在远程仓库上调用的。 非零状态将中止该过程。 尽管它不接收任何参数，但它会通过标准输入以&quot;&lt;old-value&gt; &lt;new-value&gt; &lt;ref-name&gt;”的形式为每个 ref 传递一个字符串。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">proc-receive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这个钩子由 git-receive-pack(1) 调用。 如果服务器设置了多值配置变量 receive.procReceiveRefs，发送到 receive-pack 的命令有匹配引用名称，这些命令将由这个钩子执行，而不是由内部 execute_commands() 函数。 这个钩子负责更新相关的引用并将结果报告回 receive-pack。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">对于每个被推送的 ref，这在远程仓库上运行一次，而不是每次推送一次。 非零状态将中止该过程。 例如，这可用于确保所有提交都只是快进。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">post-receive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在更新所有 refs 后推送时，这将在远程运行。 它不接受参数，而是通过标准输入以&quot;&lt;old-value&gt; &lt;new-value&gt; &lt;ref-name&gt;”的形式接收信息。 因为它是在更新之后调用的，所以它不能中止该过程。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-scalar">git Scalar<a href="#git-scalar" class="hash-link" aria-label="git Scalar的直接链接" title="git Scalar的直接链接">​</a></h4><p>巨型 Git 仓库管理工具 Scalar</p><p><a href="https://github.com/microsoft/scalar/releases" target="_blank" rel="noopener noreferrer">scalar 下载</a></p><p><a href="https://devblogs.microsoft.com/devops/introducing-scalar/" target="_blank" rel="noopener noreferrer">Introducing Scalar: Git at scale for everyone</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">scalar version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scalar register</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scalar unregister</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scalar run all？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scalar clone &lt;url&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scalar clone https://dev.azure.com/ms-scalar/_git/scalar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="gpg-签名">GPG 签名<a href="#gpg-签名" class="hash-link" aria-label="GPG 签名的直接链接" title="GPG 签名的直接链接">​</a></h4><p><a href="https://help.gitee.com/repository/ssh/how%20to%20use%20GPG%20on%20Gitee/" target="_blank" rel="noopener noreferrer">如何在 Gitee 上使用 GPG</a></p><p><a href="https://gpgtools.org/" target="_blank" rel="noopener noreferrer">GPGTools 官网</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Mac 安装 GPG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install gnupg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install gnupg2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">which gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ln -s /opt/homebrew/bin/gpg /opt/homebrew/bin/gpg2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生成 GPG 密钥对 用户名：iewiewiew 邮箱：1425615649@qq.com 密码：12345678</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg2 --full-generate-key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">列出公钥和私钥的长形式 GPG 密钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg2 --list-secret-keys --keyid-format=long</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GPG key ID:488D9C1B9E6C5E34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">导出 GPG 公钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg2 --armor --export &lt;GPG 密钥 ID&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg2 --armor --export 491E9A1F702B85F73A66A45C488D9C1B9E6C5E34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">复制 GPG 密钥，从 -----BEGIN PGP PUBLIC KEY BLOCK----- 开始，到 -----END PGP PUBLIC KEY BLOCK----- 结束。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将 GPG 密钥添加到具体的 账户上即可。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">配置 Git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global gpg.program gpg2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --local user.signingkey 491E9A1F702B85F73A66A45C488D9C1B9E6C5E34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用 GPG 签名进行提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -S -m &quot;test gpg&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看签名状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --show-signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 GPG 公钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://gitee.com/&lt;username&gt;.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">导入平台 GPG 公钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl https://gitee.com/&lt;username&gt;.gpg | gpg --import</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将平台 GPG 公钥设置为绝对信任</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --edit-key &lt;GPG 密钥 ID&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">踩坑：用户名得是远端仓库的用户名？</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="git-commit-message-helper">git commit message helper<a href="#git-commit-message-helper" class="hash-link" aria-label="git commit message helper的直接链接" title="git commit message helper的直接链接">​</a></h4><p>IDEA 插件：git commit message helper</p><p>规范的 Git提交描述格式：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Header头 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Body体</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Footer体</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;footer&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Header头只有一行，包括3个字段: type(必需)，scope(可选)，subject(必需)</li></ul><table><thead><tr><th align="left">属性</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">type(必填)</td><td align="left">commit提交类型</td></tr><tr><td align="left">scope(选填)</td><td align="left">commint提交影响范围</td></tr><tr><td align="left">subject(必填)</td><td align="left">commint提交简短描述</td></tr></tbody></table><ul><li>type 提交类型，type说明提交类型：只允许使用下面属性</li></ul><table><thead><tr><th align="left">属性</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">feat</td><td align="left">新功能</td></tr><tr><td align="left">fix</td><td align="left">修改bug</td></tr><tr><td align="left">docs</td><td align="left">文档修改</td></tr><tr><td align="left">style</td><td align="left">格式修改</td></tr><tr><td align="left">refactor</td><td align="left">重构</td></tr><tr><td align="left">perf</td><td align="left">性能提升</td></tr><tr><td align="left">test</td><td align="left">测试</td></tr><tr><td align="left">build</td><td align="left">构建系统</td></tr><tr><td align="left">ci</td><td align="left">对CI配置文件修改</td></tr><tr><td align="left">chore</td><td align="left">修改构建流程、或者增加依赖库、工具</td></tr><tr><td align="left">revert</td><td align="left">回滚版本</td></tr></tbody></table><ul><li>scope 作用范围</li></ul><p>scope说明提交影响范围：一般是修改的什么模块或者是什么功能，如【xx模块】/【xx功能】</p><ul><li>subject 提交主题</li></ul><p>subject 说明提交简短描述：一般是5-10各自简单描述做的任务，如【xx模块加入消息队列】</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="codeowners">CODEOWNERS<a href="#codeowners" class="hash-link" aria-label="CODEOWNERS的直接链接" title="CODEOWNERS的直接链接">​</a></h4><p>添加 CODEOWNERS 文件
填写内容：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">* @gitqa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/test_codeowner.txt @gitqa @gitqa2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/aa/test_codeowner.txt @gitqa @gitqa2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/aa/bb/ @gitqa @gitqa2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="知识碎片">知识碎片<a href="#知识碎片" class="hash-link" aria-label="知识碎片的直接链接" title="知识碎片的直接链接">​</a></h4><p>“内容寻址存储(content addressed storage)”，它指的是对象在数据库中的文件名与文件内容的哈希值相同。</p><p><a href="https://pkg.go.dev/gitlab.com/gitlab-org/gitaly/proto/go/gitalypb" target="_blank" rel="noopener noreferrer">gitalypb</a> </p><p><code>git push origin HEAD:refs/heads/&lt;branchName&gt;</code>
将本地的 HEAD 提交推送到远程仓库的分支，<code>refs/heads/</code> 表示将提交推送到远程仓库的正常分支，而不是用于代码审查的分支。
注意：将 heads 填错为 head 也不会报错，实际上推上去，但是查不出来</p><p>其它命令</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git push origin refs/tags/&lt;tag_name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin refs/tags/v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin refs/pull/1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看仓库中的大文件  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git rev-list --objects --all | grep -E &quot;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -10 | awk &#x27;{print$1}&#x27; | sed &#x27;:a;N;$!ba;s/\n/|/g&#x27;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>空提交<br>
<!-- -->git commit --allow-empty</p><p>git squash
提交 5 次 commit
git rebase -i HEAD~n (n 是要压缩的提交数量)
将要压缩的提交的 pick 改为 squash（或简写为 s），只保留第一个提交为 pick
保存并退出编辑器</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. 创建并切换到功能分支：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b feature-branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 进行一些提交：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;First change&quot; &gt; file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Add first change&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Second change&quot; &gt;&gt; file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Add second change&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Third change&quot; &gt;&gt; file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add file.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Add third change&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 切换回主分支:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. 执行 Squash Merge：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge --squash feature-branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. 提交更改：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Merge feature-branch with squash&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. 查看提交历史：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git log --oneline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. 其它</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout feature-branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin feature-branch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>拉取 A 仓库的所有分支，并推送到远程 B 仓库</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone --mirror https://github.com/user/repoA.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd repoA.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote add b-repo https://github.com/user/repoB.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f b-repo --all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push -f b-repo --tags</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查询 Git LFS 文件大小
du -sh .git/lfs</p><p><code>GIT_CURL_VERBOSE</code> 是一个环境变量，用于在使用 Git 时启用详细的 cURL 输出。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export GIT_CURL_VERBOSE=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git fetch origin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>关闭详细输出：unset GIT_CURL_VERBOSE</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-踩坑">5. 踩坑<a href="#5-踩坑" class="hash-link" aria-label="5. 踩坑的直接链接" title="5. 踩坑的直接链接">​</a></h2><ol><li><p>问题一
现象：remote: <!-- -->[session-7f4367b7]<!-- --> You hasn&#x27;t joined this enterprise!
解决1：进入控制台 &gt; 打开钥匙串 &gt; 修改用户的密码
解决2：git config --global --unset credential.helper，重新输入当前的账户和密码</p></li><li><p>问题二
现象：gitee 报错&quot;remote: <!-- -->[session-7f4367b7]<!-- --> Access denied
原因：在2个 git 账号切换的时候，需要清除上一个账号的信息，重新输入当前的账户和密码
解决：git config --system --unset credential.helper</p></li><li><p>问题三
现象：git pull/push 报错：fatal: refusing to merge unrelated histories
原因：两个分支历史记录是完全独立的
解决：git pull origin master --allow-unrelated-histories</p></li><li><p>问题四
现象：git push 报错：! <!-- -->[remote rejected]<!-- --> master -&gt; master (no merge base found)
原因：分支历史分开：本地分支的历史与远程分支的历史完全不同，可能是由于强制推送或重写历史造成的。 分支被重置：远程分支可能被重置，导致本地分支无法找到共同的合并基础。</p></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/DevOps/Kubernetes/Kubernetes_Other"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Kubernetes_Other</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Git/代码托管平台"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">代码托管平台</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-git-工作流程" class="table-of-contents__link toc-highlight">1. Git 工作流程</a></li><li><a href="#2-git-知识点" class="table-of-contents__link toc-highlight">2. Git 知识点</a><ul><li><a href="#git-存储" class="table-of-contents__link toc-highlight">Git 存储</a></li><li><a href="#git-文件状态" class="table-of-contents__link toc-highlight">Git 文件状态</a></li><li><a href="#git-commit-规范" class="table-of-contents__link toc-highlight">Git commit 规范</a></li></ul></li><li><a href="#3-git-命令" class="table-of-contents__link toc-highlight">3. Git 命令</a><ul><li><a href="#git-add" class="table-of-contents__link toc-highlight">git add</a></li><li><a href="#git-archive" class="table-of-contents__link toc-highlight">git archive</a></li><li><a href="#git-blame" class="table-of-contents__link toc-highlight">git blame</a></li><li><a href="#git-branch" class="table-of-contents__link toc-highlight">git branch</a></li><li><a href="#git-bundle" class="table-of-contents__link toc-highlight">git bundle</a></li><li><a href="#git-checkout" class="table-of-contents__link toc-highlight">git checkout</a></li><li><a href="#git-cherry-pick" class="table-of-contents__link toc-highlight">git cherry-pick</a></li><li><a href="#git-clean" class="table-of-contents__link toc-highlight">git clean</a></li><li><a href="#git-clone" class="table-of-contents__link toc-highlight">git clone</a></li><li><a href="#git-commit" class="table-of-contents__link toc-highlight">git commit</a></li><li><a href="#git-config" class="table-of-contents__link toc-highlight">git config</a></li><li><a href="#git-diff" class="table-of-contents__link toc-highlight">git diff</a></li><li><a href="#git-fetch" class="table-of-contents__link toc-highlight">git fetch</a></li><li><a href="#git-fsck" class="table-of-contents__link toc-highlight">git fsck</a></li><li><a href="#git-gc" class="table-of-contents__link toc-highlight">git gc</a></li><li><a href="#git-init" class="table-of-contents__link toc-highlight">git init</a></li><li><a href="#git-log" class="table-of-contents__link toc-highlight">git log</a></li><li><a href="#git-pull" class="table-of-contents__link toc-highlight">git pull</a></li><li><a href="#git-push" class="table-of-contents__link toc-highlight">git push</a></li><li><a href="#git-rebase" class="table-of-contents__link toc-highlight">git rebase</a></li><li><a href="#git-remote" class="table-of-contents__link toc-highlight">git remote</a></li><li><a href="#git-reset" class="table-of-contents__link toc-highlight">git reset</a></li><li><a href="#git-revert" class="table-of-contents__link toc-highlight">git revert</a></li><li><a href="#git-rm" class="table-of-contents__link toc-highlight">git rm</a></li><li><a href="#git-show" class="table-of-contents__link toc-highlight">git show</a></li><li><a href="#git-stash" class="table-of-contents__link toc-highlight">git stash</a></li><li><a href="#git-status" class="table-of-contents__link toc-highlight">git status</a></li><li><a href="#git-submodule" class="table-of-contents__link toc-highlight">git submodule</a></li><li><a href="#git-subtree" class="table-of-contents__link toc-highlight">git subtree</a></li><li><a href="#git-tag" class="table-of-contents__link toc-highlight">git tag</a></li><li><a href="#git-ls-remote" class="table-of-contents__link toc-highlight">git ls-remote</a></li><li><a href="#git-for-each-ref" class="table-of-contents__link toc-highlight">git for-each-ref</a></li><li><a href="#other" class="table-of-contents__link toc-highlight">other</a></li></ul></li><li><a href="#4-git-知识碎片" class="table-of-contents__link toc-highlight">4. Git 知识碎片</a><ul><li><a href="#常用操作" class="table-of-contents__link toc-highlight">常用操作</a></li><li><a href="#常见问题" class="table-of-contents__link toc-highlight">常见问题</a></li><li><a href="#git-拓展" class="table-of-contents__link toc-highlight">git 拓展</a></li></ul></li><li><a href="#5-踩坑" class="table-of-contents__link toc-highlight">5. 踩坑</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cbea1bda.js"></script>
<script src="/assets/js/main.904b21c1.js"></script>
</body>
</html>