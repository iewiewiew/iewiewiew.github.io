<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Database/Redis">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Redis | 知行合一</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" name="twitter:image" content="https://iewiewiew.github.io/img/me.jpeg"><meta data-rh="true" property="og:url" content="https://iewiewiew.github.io/docs/Database/Redis"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Redis | 知行合一"><meta data-rh="true" name="description" content="[TOC]"><meta data-rh="true" property="og:description" content="[TOC]"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://iewiewiew.github.io/docs/Database/Redis"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/Database/Redis" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://iewiewiew.github.io/docs/Database/Redis" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.183e182e.css">
<link rel="preload" href="/assets/js/runtime~main.5e310ca4.js" as="script">
<link rel="preload" href="/assets/js/main.cb284e89.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/me.jpeg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">wei</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">目录</a><a href="https://www.processon.com/mindmap/6138112f1e085306ef9fe608" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">技能图谱<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/iewiewiew" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">README</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/AI/">AI</a><button aria-label="打开/收起侧边栏菜单「AI」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Ansible/">Ansible</a><button aria-label="打开/收起侧边栏菜单「Ansible」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/CSBasic/Network">CSBasic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Chaos/ChaosBlade">Chaos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Database/ClickHouse/">Database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/ClickHouse/">ClickHouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/Elasticsearch">Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/GraphQL/">GraphQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/InfluxDB/">InfluxDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/MySQL/">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/PostgreSQL/">PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Database/Redis">Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/SQLite">SQLite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/向量数据库">向量数据库</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/DevOps/">DevOps</a><button aria-label="打开/收起侧边栏菜单「DevOps」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Docker/">Docker</a><button aria-label="打开/收起侧边栏菜单「Docker」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Git/">Git</a><button aria-label="打开/收起侧边栏菜单「Git」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/JMeter/">JMeter</a><button aria-label="打开/收起侧边栏菜单「JMeter」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Jenkins/">Jenkins</a><button aria-label="打开/收起侧边栏菜单「Jenkins」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Kubernetes/">Kubernetes</a><button aria-label="打开/收起侧边栏菜单「Kubernetes」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Linux/">Linux</a><button aria-label="打开/收起侧边栏菜单「Linux」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Middleware/Apollo/">Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Mixinfo/BigData/大数据">Mixinfo</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/SoftwareTest/AppTest">SoftwareTest</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Database</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Redis</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Redis</h1></header><p>[TOC]</p><h1 align="center">Redis</h1><blockquote><p>By：weimenghua<br>
<!-- -->Date：2022.08.10<br>
<!-- -->Description：Redis 非关系型数据库</p></blockquote><p><strong>参考资料</strong><br>
<a href="https://mp.weixin.qq.com/s/5BwWCekb_wIu6LrCdmoGCQ" target="_blank" rel="noopener noreferrer">从0到1构建一个稳定、高性能Redis集群</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-redis-简介">1. Redis 简介<a href="#1-redis-简介" class="hash-link" aria-label="1. Redis 简介的直接链接" title="1. Redis 简介的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-redis-简介">1.1 Redis 简介<a href="#11-redis-简介" class="hash-link" aria-label="1.1 Redis 简介的直接链接" title="1.1 Redis 简介的直接链接">​</a></h3><p>Redis 是完全开源免费的，遵守 BSD 协议，是一个高性能的 key-value 数据库。
Redis 与其他 key - value 缓存产品有以下三个特点：
Redis 支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用。
Redis 不仅仅支持简单的 key-value 类型的数据，同时还提供 list，set，zset，hash 等数据结构的存储。
Redis 支持数据的备份，即 master-slave 模式的数据备份。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-redis-优势">1.2 Redis 优势<a href="#12-redis-优势" class="hash-link" aria-label="1.2 Redis 优势的直接链接" title="1.2 Redis 优势的直接链接">​</a></h3><p>性能极高 – Redis 能读的速度是110000次/s,写的速度是81000次/s 。
丰富的数据类型 – Redis 支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。
原子 – Redis 的所有操作都是原子性的，同时 Redis 还支持对几个操作全并后的原子性执行。
丰富的特性 – Redis 还支持 publish/subscribe, 通知, key 过期等等特性。</p><p><strong>Redis 与其他 key-value 存储有什么不同</strong>
Redis 有着更为复杂的数据结构并且提供对他们的原子性操作，这是一个不同于其他数据库的进化路径。Redis 的数据类型都是基于基本数据结构的同时对程序员透明，无需进行额外的抽象。
Redis 运行在内存中但是可以持久化到磁盘，所以在对不同数据集进行高速读写时需要权衡内存，应为数据量不能大于硬件内存。在内存数据库方面的另一个优点是， 相比在磁盘上相同的复杂的数据结构，在内存中操作起来非常简单，这样 Redis 可以做很多内部复杂性很强的事情。 同时，在磁盘格式方面他们是紧凑的以追加的方式产生的，因为他们并不需要进行随机访问。</p><p>Redis 默认提供了16个数据库. 每个数据库都有一个 id, 从 0 开始, <!-- -->[0,15]<!-- -->。 不同的数据库中数据隔离保存。我们可以通过修改 redis 的配置文件进行修改数据库的数量。
修改 redis.windows.conf 的 databases 16配置可修改 redis 数据库。
<code>使用 select &lt;ID&gt; 可以切换数据库。</code>
select 1</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-redis-数据类型">2. Redis 数据类型<a href="#2-redis-数据类型" class="hash-link" aria-label="2. Redis 数据类型的直接链接" title="2. Redis 数据类型的直接链接">​</a></h2><p>Redis 支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合），zset(有序集合)。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-string字符串">2.1 String（字符串）<a href="#21-string字符串" class="hash-link" aria-label="2.1 String（字符串）的直接链接" title="2.1 String（字符串）的直接链接">​</a></h3><p>string 是 Redis 最基本的类型，一个 key 对应一个 value。string 类型的值最大能存储 512MB。 </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">设置指定 key 的值  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set key1 redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取指定 key 的值  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get key1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除指定 key  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">del key1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-hash哈希">2.2 Hash（哈希）<a href="#22-hash哈希" class="hash-link" aria-label="2.2 Hash（哈希）的直接链接" title="2.2 Hash（哈希）的直接链接">​</a></h3><p>Redis hash 是一个 string 类型的 field（字段） 和 value（值） 的映射表，hash 特别适合用于存储对象。 Redis 中每个 hash 可以存储 232的平方 - 1 键值对（40多亿）。 </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">同时将多个 field-value (域-值)对设置到哈希表 key 中  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hmset key2 name &quot;guagua&quot; age 18 sex &quot;男&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取在哈希表中指定 key 的所有字段和值  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hgetall key2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取存储在哈希表中指定字段的值  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hget key2 name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取所有哈希表中的字段  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hkeys key2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取哈希中所有值的列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">havls &lt;key&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取哈希中字段的数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hlen &lt;key&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">删除一个或多个哈希表字段  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hdel key2 name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-list列表">2.3 List（列表）<a href="#23-list列表" class="hash-link" aria-label="2.3 List（列表）的直接链接" title="2.3 List（列表）的直接链接">​</a></h3><p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。 一个列表最多可以包含 232的平方 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">将一个或多个值插入到列表头部  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lpush key3 my  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lpush key3 name  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lpush key3 is guagua  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取列表指定范围内的元素  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lrange key3 0 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-set集合">2.4 Set（集合）<a href="#24-set集合" class="hash-link" aria-label="2.4 Set（集合）的直接链接" title="2.4 Set（集合）的直接链接">​</a></h3><p>Redis 的 Set 是 string 类型的无序集合。集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O(1)。  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">add key4 my  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add key4 name  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add key4 is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取集合中的所有成员</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">smembers key4  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">检查指定成员是否存在于集合中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SISMEMBER &lt;key&gt; &lt;member&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">获取集合中的成员数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SCARD &lt;key&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">向集合中添加一个或多个成员</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SADD &lt;key&gt; &lt;member1&gt; [member2 ...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-zsetsorted-set有序集合">2.5 zset（sorted set：有序集合）<a href="#25-zsetsorted-set有序集合" class="hash-link" aria-label="2.5 zset（sorted set：有序集合）的直接链接" title="2.5 zset（sorted set：有序集合）的直接链接">​</a></h3><p>Redis zset 和 set 一样也是 string 类型元素的集合，且不允许重复的成员。不同的是每个元素都会关联一个 double 类型的分数。redis 正是通过分数来为集合中的成员进行从小到大的排序。 zset 的成员是唯一的，但分数(score)却可以重复。  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">zadd key5 1 my  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zadd key5 2 name  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zadd key5 2 is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zrange key5 0 10  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-redis-持久化">3. Redis 持久化<a href="#3-redis-持久化" class="hash-link" aria-label="3. Redis 持久化的直接链接" title="3. Redis 持久化的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-redis-为什么需要持久化">3.1 Redis 为什么需要持久化<a href="#31-redis-为什么需要持久化" class="hash-link" aria-label="3.1 Redis 为什么需要持久化的直接链接" title="3.1 Redis 为什么需要持久化的直接链接">​</a></h3><p>由于 Redis 的数据都存放在内存中，如果没有配置持久化，Redis 重启后数据就全丢失了，于是需要开启 Redis 的持久化功能，将数据保存到磁盘上，当 Redis 重启后，可以从磁盘中恢复数据。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-redis-提供两种方式进行持久化">3.2 Redis 提供两种方式进行持久化<a href="#32-redis-提供两种方式进行持久化" class="hash-link" aria-label="3.2 Redis 提供两种方式进行持久化的直接链接" title="3.2 Redis 提供两种方式进行持久化的直接链接">​</a></h3><p><strong>3.2.1 RDB（Redis DataBase）持久化</strong>
原理是将 Reids 在内存中的数据库记录定时 dump 到磁盘上的 RDB 持久化。<br>
<!-- -->RDB 方式生成 dump.rdb 文件。dump.rdb 是由 Redis 服务器自动生成的。默认情况下 每隔一段时间 Redis 服务器程序会自动对数据库做一次遍历，把内存快照写在一个叫做“dump.rdb”的文件里，这个持久化机制叫做 SNAPSHOT。有了 SNAPSHOT 后，如果服务器宕机，重新启动 Redis 服务器程序时 Redis 会自动加载 dump.rdb，将数据库状态恢复到上一次做 SNAPSHOT 时的状态。至于多久做一次 SNAPSHOT，SNAPSHOT 文件的路径和文件名，你可以在 Redis 的 conf 文件里指定。</p><p><strong>3.2.2 AOF（Append Only File）持久化</strong>
原理是将 Reids 的操作日志以追加的方式写入文件。
以日志的形式来记录每个写操作，将 Redis 执行过的所有写指令记录下来(读操作不记录)，只许追加文件但不可以改写文件，redis 启动之初会读取该文件重新构建数据，换言之，Redis 重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-rdb-和-aof-二者的区别">3.3 RDB 和 AOF 二者的区别<a href="#33-rdb-和-aof-二者的区别" class="hash-link" aria-label="3.3 RDB 和 AOF 二者的区别的直接链接" title="3.3 RDB 和 AOF 二者的区别的直接链接">​</a></h3><p><strong>3.3.1 RDB 持久化</strong>
RDB 持久化是指在指定的时间间隔内将内存中的数据集快照写入磁盘，实际操作过程是 fork 一个子进程，先将数据集写入临时文件，写入成功后，再替换之前的文件，用二进制压缩存储。</p><ul><li>优势
适合大规模的数据恢复；<br>对数据完整性和一致性要求不高。</li><li>劣势
在一定间隔时间做一次备份，所以如果 redis 意外 down 掉的话，就会丢失最后一次快照后的所有修改；
fork 的时候，内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑。</li></ul><p><strong>3.3.2 AOF 持久化</strong>
AOF 持久化以日志的形式记录服务器所处理的每一个写、删除操作，查询操作不会记录，以文本的方式记录，可以打开文件看到详细的操作记录。</p><ul><li>优势
appendfsync always   同步持久化 每次发生数据变更会被立即记录到磁盘  性能较差但数据完整性比较好；<br>appendfsync everysec    异步操作，每秒记录，如果一秒内宕机，有数据丢失；<br>appendfsync no   从不同步。</li><li>劣势
相同数据集的数据而言 aof 文件要远大于 rdb 文件，恢复速度慢于 rdb；<br>aof 运行效率要慢于 rdb,每秒同步策略效率较好，不同步效率和 rdb 相同。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-其它">4. 其它<a href="#4-其它" class="hash-link" aria-label="4. 其它的直接链接" title="4. 其它的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-redis--hotkey-bigkey">4.1 Redis  Hotkey BigKey<a href="#41-redis--hotkey-bigkey" class="hash-link" aria-label="4.1 Redis  Hotkey BigKey的直接链接" title="4.1 Redis  Hotkey BigKey的直接链接">​</a></h3><p><strong>参考资料</strong>
<a href="https://developer.aliyun.com/article/788845" target="_blank" rel="noopener noreferrer">深度干货｜一文详解 Redis 中 BigKey、HotKey 的发现与处理</a></p><p><strong>简介</strong></p><p>在 Redis 的使用过程中，我们经常会遇到 BigKey（下文将其称为“大 key”）及 HotKey（下文将其称为“热 key”）。大 Key 与热 Key 如果未能及时发现并进行处理，很可能会使服务性能下降、用户体验变差，甚至引发大面积故障。</p><p><strong>大 key 定义</strong></p><ul><li>一个 STRING 类型的 Key，它的值为5MB（数据过大）</li><li>一个 LIST 类型的 Key，它的列表数量为20000个（列表数量过多）</li><li>一个 ZSET 类型的 Key，它的成员数量为10000个（成员数量过多）</li><li>一个 HASH 格式的 Key，它的成员数量虽然只有1000个但这些成员的 value 总大小为100MB（成员体积过大）</li></ul><p><strong>热 key 定义</strong></p><ul><li>某 Redis 实例的每秒总访问量为10000，而其中一个 Key 的每秒访问量达到了7000（访问次数显著高于其它 Key）</li><li>对一个拥有上千个成员且总大小为1MB 的 HASH Key 每秒发送大量的 HGETALL（带宽占用显著高于其它 Key）</li><li>对一个拥有数万个成员的 ZSET Key 每秒发送大量的 ZRANGE（CPU 时间占用显著高于其它 Key）</li></ul><p><strong>找到 大 key 和 热 key 的 方式</strong></p><ul><li>通过 Redis 内置命令对目标 Key 进行分析</li><li>通过 Redis 官方客户端 redis-cli 的 bigkeys 参数发现大 Key</li><li>通过 Redis 官方客户端 redis-cli 的 hotkeys 参数发现热 Key</li><li>使用 monitor 命令在紧急情况时找出热 Key</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-redis-连接数">4.2 Redis 连接数<a href="#42-redis-连接数" class="hash-link" aria-label="4.2 Redis 连接数的直接链接" title="4.2 Redis 连接数的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 启动 Redis 客户端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动 Redis 客户端</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info clients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看最大链接数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config get maxclients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改最大链接数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方式一</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONFIG set maxclients 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方式二</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在 redis.conf 修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 显示所有客户端连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># redis-benchmark 是官方自带的 Redis 性能测试工具，用来测试 Redis 在当前环境下的读写性能。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 模拟打满连接数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">命令：redis-benchmark -h &lt;redis-host&gt; -p &lt;redis-port&gt; -c &lt;max-connections&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">举例：redis-benchmark -h 127.0.0.1 -p 6379 -c 100    # 模拟100连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 释放 Redis 连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方式一</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CLIENT KILL TYPE normal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方式二 未实践成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">命令：CLIENT KILL ADDR &lt;ip-address&gt;:&lt;port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">举例：CLIENT KILL ADDR 127.0.0.1:6379</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-查看-redis-主从">4.3 查看 Redis 主从<a href="#43-查看-redis-主从" class="hash-link" aria-label="4.3 查看 Redis 主从的直接链接" title="4.3 查看 Redis 主从的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n &lt;namespace&gt; exec -it pod/redis-master-0 -- redis-cli  info Replication | grep role</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-查看-redis-使用情况">4.4 查看 Redis 使用情况<a href="#44-查看-redis-使用情况" class="hash-link" aria-label="4.4 查看 Redis 使用情况的直接链接" title="4.4 查看 Redis 使用情况的直接链接">​</a></h3><p>在 Redis server 上测试实例的响应延迟情况
<code>redis-cli -h 127.0.0.1 -p 6379 --intrinsic-latency 60</code></p><p>查看一段时间内 Redis 的最小、最大、平均访问延迟</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli -h 127.0.0.1 -p 6379 --latency-history -i 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli -h 127.0.0.1 -p 6379 --bigkeys -i 0.01</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>吞吐量<br>
<code>info stats</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">从Rdis上一次启动以来总计处理的命令数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total_commands_processed:2255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">当前Redis实例的OPS，redis内部较实时的每秒执行的命令数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instantaneous_ops_per_sec:12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">网络总入量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total_net_input_bytes:34312</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">网络总出量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total_net_output_bytes:78215</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">每秒输入量，单位是kb/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instantaneous_input_kbps:1.20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">每秒输出量，单位是kb/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instantaneous_output_kbps:2.62</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其它</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">info Replication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info cpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">used_memory_rss_human：表示目前的内存实际占用——表示当前的内存情况。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">used_memory_peak_human：表示内存峰值占用——表示曾经的内存情况（主要是用来抓不到现场的时候查问题用的）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info clients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查询所有 key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keys * </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">模糊查询 key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keys *tmp*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看 key 类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type &lt;key_name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/tiny-craft/tiny-rdm/releases" target="_blank" rel="noopener noreferrer">Redis 连接工具 Tiny RDM</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo xattr -d com.apple.quarantine /Applications/Tiny\ RDM.app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Database/PostgreSQL/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">PostgreSQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Database/SQLite"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">SQLite</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-redis-简介" class="table-of-contents__link toc-highlight">1. Redis 简介</a><ul><li><a href="#11-redis-简介" class="table-of-contents__link toc-highlight">1.1 Redis 简介</a></li><li><a href="#12-redis-优势" class="table-of-contents__link toc-highlight">1.2 Redis 优势</a></li></ul></li><li><a href="#2-redis-数据类型" class="table-of-contents__link toc-highlight">2. Redis 数据类型</a><ul><li><a href="#21-string字符串" class="table-of-contents__link toc-highlight">2.1 String（字符串）</a></li><li><a href="#22-hash哈希" class="table-of-contents__link toc-highlight">2.2 Hash（哈希）</a></li><li><a href="#23-list列表" class="table-of-contents__link toc-highlight">2.3 List（列表）</a></li><li><a href="#24-set集合" class="table-of-contents__link toc-highlight">2.4 Set（集合）</a></li><li><a href="#25-zsetsorted-set有序集合" class="table-of-contents__link toc-highlight">2.5 zset（sorted set：有序集合）</a></li></ul></li><li><a href="#3-redis-持久化" class="table-of-contents__link toc-highlight">3. Redis 持久化</a><ul><li><a href="#31-redis-为什么需要持久化" class="table-of-contents__link toc-highlight">3.1 Redis 为什么需要持久化</a></li><li><a href="#32-redis-提供两种方式进行持久化" class="table-of-contents__link toc-highlight">3.2 Redis 提供两种方式进行持久化</a></li><li><a href="#33-rdb-和-aof-二者的区别" class="table-of-contents__link toc-highlight">3.3 RDB 和 AOF 二者的区别</a></li></ul></li><li><a href="#4-其它" class="table-of-contents__link toc-highlight">4. 其它</a><ul><li><a href="#41-redis--hotkey-bigkey" class="table-of-contents__link toc-highlight">4.1 Redis  Hotkey BigKey</a></li><li><a href="#42-redis-连接数" class="table-of-contents__link toc-highlight">4.2 Redis 连接数</a></li><li><a href="#43-查看-redis-主从" class="table-of-contents__link toc-highlight">4.3 查看 Redis 主从</a></li><li><a href="#44-查看-redis-使用情况" class="table-of-contents__link toc-highlight">4.4 查看 Redis 使用情况</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5e310ca4.js"></script>
<script src="/assets/js/main.cb284e89.js"></script>
</body>
</html>